var atdsplayer=window.atdsplayer={};!function(a){a.PlayerRenderer={FLASH:"FLASH",SILVERLIGHT:"SILVERLIGHT",HTML5:"HTML5",DASH:"DASH",AUDIO:"AUDIO"},a.MediaType={DASH:"application/dash+xml",OGG:"video/ogg",MP4:"video/mp4",FLV:"video/x-flv",LIVX:"video/livx",MOV:"video/mp4; codecs='avc1.42E01E, mp4a.40.2'",WEBM:"video/webm",WMV:"video/x-ms-wmv",SS:"application/vnd.ms-sstr+xml",HLS:"application/x-mpegURL",PCM:"audio/pcm",AAC:"audio/mp4",MP3:"audio/mpeg"},a.AdType={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"},a.AdEvent={ERROR:"error",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",UNMUTE:"unmute",MUTE:"mute",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CREATIVE_VIEW:"creativeView",CLICK_TRACKING:"ClickTracking",IMPRESSION:"Impression"},a.SupportedRenderers={HTML5:[a.MediaType.MP4,a.MediaType.MOV,a.MediaType.OGG,a.MediaType.WEBM,a.MediaType.HLS,a.MediaType.AAC,a.MediaType.MP3],FLASH:[a.MediaType.MP4,a.MediaType.MOV,a.MediaType.FLV,a.MediaType.LIVX],SILVERLIGHT:[a.MediaType.SS],DASH:[a.MediaType.DASH],AUDIO:[a.MediaType.PCM]},a.ControlEvent={PLAY_BUTTON_CLICKED:0,PAUSE_BUTTON_CLICKED:1,STOP_BUTTON_CLICKED:2,PROGRESS_POSITION_CHANGING:3,PROGRESS_POSITION_CHANGED:4,VOLUME_CHANGED:5,BANDWIDTH_CHANGED:6,FULLSCREEN_BUTTON_CLICKED:7,LIVE_BUTTON_CLICKED:8},a.GuiEvent={FULLSCREEN_CHANGE:0,VIDEO_CLICKED:1,VIDEO_AD_CLICKED:2,CONTROLS_HIDE:3,CONTROLS_SHOW:4,GUI_READY:5},a.PlayerEvent={OPEN:"open",NEW_MEDIA:"newMedia",READY:"ready",METADATA:"metadata",PLAYING:"playing",WAITING:"waiting",PAUSED:"paused",STOPPED:"stopped",ENDED:"ended",AD_START:"adStart",AD_END:"adEnd",FALLBACK:"fallback",SEEK_START:"seeking",SEEK_END:"seeked",PROFILE_CHANGED:"profileChanged",MUTED:"muted",UNMUTED:"unmuted",VOLUME_CHANGED:"volumeChanged",DRM_KEY_ERROR:"drmKeyError",ERROR:"error",DESTROY:"destroy",TIME:"time",HEAD_TIME:"headTime"},a.PlaybackState={UNKNOWN:0,READY:1,PLAYING:2,PAUSED:3,BUFFERING:4,STOPPED:5,ERROR:6}}(atdsplayer),function(a){"use strict";function b(a,b){if("undefined"!=typeof b.sources&&a.setSources(b.sources),"undefined"!=typeof b.drm){for(var c in b.drm)b.drm.hasOwnProperty(c)&&(b.drm[c.toLowerCase()]=b.drm[c],delete b.drm[c]);a.setDrm(b.drm)}"undefined"!=typeof b.aspect&&a.setAspect(b.aspect),"undefined"!=typeof b.subtitle&&a.setSubtitle(b.subtitle),"undefined"!=typeof b.splashscreen&&a.setSplashscreen(b.splashscreen),"undefined"!=typeof b.thumbnail&&a.setThumbnail(b.thumbnail)}function c(c){this._id="mediaItem_"+a.util.core.generateRandomString(16),this._aspect=null,this._sources=null,this._drm=null,this._subtitle=null,this._jsonSource=c,this._splashscreen=null,this._thumbnail=null,this._supportedRenderers=[],"undefined"!=typeof c&&b(this,c)}c.prototype={getId:function(){return this._id},getAspect:function(){return this._aspect},setAspect:function(a){a.width&&a.height&&(this._aspect=parseInt(a.width)/parseInt(a.height))},getSources:function(){return this._sources},setSources:function(a){this._sources=a},getSource:function(){return this._source},setSource:function(a){this._source=a},getSplashscreen:function(){return this._splashscreen},setSplashscreen:function(a){this._splashscreen=a},getThumbnail:function(){return this._thumbnail},setThumbnail:function(a){this._thumbnail=a},getDrm:function(){return this._drm},setDrm:function(a){this._drm=a},getSubtitle:function(){return this._subtitle},setSubtitle:function(a){this._subtitle=a},getJsonSource:function(){return this._jsonSource},getSupportedRenderers:function(){}},a.MediaItem=c}(atdsplayer),function(a){function b(){function b(a,b){return y=b,w(a,"xml",y).done(function(a,b){null!==a?e(a):x.reject()}).fail(function(){x.reject()}),x}function d(a,b){var c=a.getElementsByTagName(b);return c.length?c[0].textContent.trim():null}function e(a){var b,c=a.getElementsByTagName("Ad"),d=c.length,e=d;for(d||x.resolve(),b=0;d>b;++b)f(c[b]).done(function(){e--,0>=e&&(t.sort(function(a,b){return a.position-b.position}),x.resolve())})}function f(b,e){var h,i,j,k,l,m,n="undefined"!=typeof e;for("undefined"==typeof e?(e=new c,h=new a.Promise,e.promise=h):h=e.promise,j=d(b,"AdTitle"),e.id=b.getAttribute("id"),j||(j=b.getAttribute("id")),j=j.toLowerCase(),-1!==j.indexOf("preroll")?(e.type=a.AdType.PREROLL,n||s.push(e)):-1!==j.indexOf("midroll")?(e.type=a.AdType.MIDROLL,"undefined"!=typeof b.getAttribute("position")&&(e.position=a.util.core.parseTime(b.getAttribute("position")),n||t.push(e))):-1!==j.indexOf("postroll")?(e.type=a.AdType.POSTROLL,n||v.push(e)):(e.type=a.AdType.PREROLL,n||s.push(e)),l=b.getElementsByTagName("MediaFile"),i=0;i<l.length;++i)k=l[i].textContent.trim(),k&&(m=l[i].getAttribute("type"),e.files.push({url:l[i].textContent.trim(),type:m}));if(l=b.getElementsByTagName("Error"),l.length)for(i=0;i<l.length;++i)e.events.add("error",g(l[i].textContent.trim(),e));if(l=b.getElementsByTagName("TrackingEvents"),l.length)for(l=l[0].getElementsByTagName("Tracking"),i=0;i<l.length;++i)e.events.add(l[i].getAttribute("event"),g(l[i].textContent.trim(),e));if(l=b.getElementsByTagName("Impression"),l.length)for(i=0;i<l.length;++i)e.events.add("Impression",g(l[i].textContent.trim(),e));k=d(b,"ClickThrough"),k&&(e.clickThrough=g(k,e)),k=d(b,"ClickTracking"),k&&e.events.add("ClickTracking",g(k,e)),k=d(b,"Duration"),k&&(k=a.util.core.parseTime(k),e.duration=k);var o=d(b,"VASTAdTagURI");return null!==o?w(o,"xml",y).done(function(a){if(a&&a.getElementsByTagName("Ad").length){var b=a.getElementsByTagName("Ad")[0];f(b,e).done(function(){e.promise.resolve()}).fail(function(){e.promise.resolve()})}else h.resolve()}).fail(function(){h.resolve()}):h.resolve(),h}function g(a,b){return null!==b.id&&(a=a.replace("[AD_ID]",b.id)),null!==b.adSystem&&(a=a.replace("[AD_SYS]",b.adSystem)),a}function h(a){for(var b=[],c=[],d=0;d<t.length;++d)Math.floor(t[d].position)<=Math.ceil(a)&&(b.push(t[d]),c.push(d));for(;c.length;)t.splice(c.pop(),1);return u=u.concat(b),u.length}function i(b,c){switch(b){case a.AdType.PREROLL:return j();case a.AdType.MIDROLL:return k(c);case a.AdType.POSTROLL:return l()}}function j(){return s.length}function k(a){return h(a)}function l(){return v.length}function m(){return s.shift()}function n(a){return u.shift()}function o(){return v.shift()}function p(a){return s=a}function q(a){return t=a}function r(a){return v=a}var s=[],t=[],u=[],v=[],w=a.util.core.loadData,x=new a.Promise,y=!1;return{hasPrerolls:j,hasMidrolls:k,hasPostrolls:l,hasMoreAdsByType:i,getNextMidroll:n,getNextPreroll:m,getNextPostroll:o,getMidrolls:function(){return t},hasMidrollsAtTime:h,setPrerolls:p,setMidrolls:q,setPostrolls:r,load:b}}function c(){this.id=null,this.adSystem=null,this.files=[],this.events={},this.clickThrough="",this.duration=NaN,this.events=new d}function d(){this.urls={}}c.prototype.trackEvent=function(a){this.events.track(a)},d.prototype={track:function(b){if(Array.isArray(this.urls[b]))switch(this.urls[b].forEach(function(b){a.util.core.track(b)}),b){case a.AdEvent.CREATIVE_VIEW:case a.AdEvent.START:case a.AdEvent.COMPLETE:case a.AdEvent.FIRST_QUARTILE:case a.AdEvent.MIDPOINT:case a.AdEvent.THIRD_QUARTILE:case a.AdEvent.IMPRESSION:this.urls[b]=[]}},add:function(a,b){this.urls[a]=this.urls[a]||[],this.urls[a].push(b)}},a.AdvertManager=b}(window.atdsplayer=window.atdsplayer||{}),function(a){function b(a){this.options=a}a.manager=a.manager||{},b.prototype.showReportModal=function(){},b.prototype.report=function(a){var b,c={referer:encodeURIComponent(location.href),type:"CRASH",subtype:a.error,playerVersion:redcdnplayer.VERSION};delete a.error,c.content=JSON.stringify(a);var d=[],e="";for(var f in c)c.hasOwnProperty(f)&&d.push(f+"="+c[f]);"undefined"!=typeof this.options.crashReportUrl&&(b=this.options.crashReportUrl.split("?")[0]+"?"+e,this.sendReport(b+"?"+d.join("&")))},b.prototype.sendReport=function(a){var b;if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}b.open("GET",a,!0),b.onreadystatechange=function(){4===b.readyState&&200===b.status},b.send(null)},a.manager.CrashReportManager=b}(window.atdsplayer=window.atdsplayer||{}),function(a){function b(b,c,d,e){function f(){if(!m){for(var a in s)b.on(a,s[a]);m=!0}}function g(){if(m){for(var a in s)b.off(a,s[a]);m=!1}}function h(){var a;if(k)for(;i.length;)a=i.shift(),gemiusStream.event(c,l.materialId,parseInt(a.time),a.name);else for(var b=0;b<i.length;b++)if("new"===i[b].name){a=i[b],i.splice(b,1),gemiusStream.newStream(c,l.materialId,parseInt(a.duration),l.customPackage,l.additionalPackage,l.identifier,l.hitcollector,l.treeId),k=!0,h();break}}if("undefined"!=typeof gemiusStream){var i=[],j=a.util.core,k=!1,l=j.extend({identifier:"",hitcollector:"https://pro.hit.gemius.pl/gstream.js",materialId:null,customPackage:[],additionalPackage:[],treeId:[]},d),m=!1,n=!1,o=!1,p=!0,q=a.util.Logger,r=a.PlayerEvent,s={};return b.on(r.AD_START,function(){q.info(">> gsm ad start"),g()}),b.on(r.AD_END,function(){q.info(">> gsm ad end"),f()}),s[r.METADATA]=function(a){isNaN(a)&&(a=-1),i.push({name:"new",duration:a}),h()},s[r.PLAYING]=function(a){n||(p=!1,n=!0,o=!1,i.push({name:"playing",time:a}),h())},s[r.PAUSED]=function(a){n=!1,i.push({name:"paused",time:a}),h()},s[r.WAITING]=function(a){o||(o=!0,n=!1,i.push({name:"buffering",time:a}),h())},s[r.SEEK_START]=function(a){o=!1,i.push({name:"seekingStarted",time:a}),h()},s[r.SEEK_END]=function(a){o=!1},s[r.STOPPED]=function(a){n=!1,o=!1,p||(p=!0,i.push({name:"stopped",time:a}),h(),k=!1)},s[r.ENDED]=function(a){n=!1,o=!1,p||(p=!0,i.push({name:"complete",time:a}),h(),k=!1)},f(),{addListeners:f,removeListeners:g}}}a.manager=a.manager||{},a.manager.GstreamManager=b}(window.atdsplayer=window.atdsplayer||{}),function(a){function b(a,b){this.modules=[],this.localApi=a,this.remoteApi=b}a.modules=a.modules||[],a.embededModules=a.embededModules||[],b.prototype={initialize:function(b){var c;for(c=0;c<a.embededModules.length;c++)this.modules.push(new a.embededModules[c](this.localApi,this.remoteApi));for(c=0;c<b.length;c++){var d=b[c];if("string"==typeof d&&this.getModuleByName(d)){var e=this.getModuleByName(d);e&&this.modules.push(new e(this.localApi,this.remoteApi))}}},destroy:function(){var a;if(this.modules.length)for(a=0;a<this.modules.length;a++)this.modules[a].destroy()},getModuleByName:function(b){for(var c=0;c<a.modules.length;c++){var d=a.modules[c];if(d.id===b)return d}return null}},a.ModuleManager=b}(atdsplayer),function(a){function b(){function b(a,b){return a?g(a):b?f(b):h.reject()}function f(b){if(h=new a.Promise,c=[],d=[],e=[],"object"==typeof b){if(Array.isArray(b))for(var f=0;f<b.length;f++)c.push(b[f]);else c.push(b);return h.resolve()}return j(b,"text").done(function(b){var c;if(b=JSON.parse(b),Array.isArray(b))for(var f=0;f<b.length;f++)c=new a.MediaItem(b[f]),e[c.getId()]=c,d.push(c);else c=new a.MediaItem(b),e[c.getId()]=c,d.push(c);h.resolve()}).fail(function(){i.error("Cannot load playlist"),h.reject()}),h}function g(b){var c=new a.MediaItem,f={};if(d=[],e=[],h=new a.Promise,"string"==typeof b){var g="mp4";-1!==b.indexOf("#")&&(g=b.split("#")[1]),f[g]=[{src:b}]}else for(var i in b)b.hasOwnProperty(i)&&(f[i]=[{src:b[i]}]);return c.setSources(f),d.push(c),e[c.getId()]=c,h.resolve()}var h,i=a.util.Logger,j=a.util.core.loadData;return{loadFiles:f,loadFile:g,fetch:b,list:function(){return d},getById:function(a){return e[a]},count:function(){return d.length}}}var c,d,e;a.PlaylistManager=b}(atdsplayer),function(a){a.util=a.util||{},a.util.core={extend:function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},generateRandomString:function(a){var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",d=0;for(d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b},formatTime:function(b){var c=Math.floor(b/3600),d=Math.floor(b/60)%60,e=Math.floor(b)%60,f=a.util.core.addLeadingZero;return(c?f(c)+":":"")+f(d)+":"+f(e)},formatDateTime:function(b){var c=new Date(1e3*b),d=a.util.core.addLeadingZero;return c.getFullYear()+"-"+d(c.getMonth()+1)+"-"+d(c.getDate())+" "+d(c.getHours())+":"+d(c.getMinutes())+":"+d(c.getSeconds())},addLeadingZero:function(a){return 10>a?"0"+a:""+a},parseTime:function(a){for(var b=a.split(":"),c=0,d=2;b.length>0;)c+=Math.pow(60,d)*parseInt(b.shift(),10),d--;return c},isDST:function(a){var b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1);return Math.min(b.getTimezoneOffset(),c.getTimezoneOffset())==a.getTimezoneOffset()},parseDate:function(b){var c=b.split("-");c[1]--;var d=a.util.core.isDST(new Date(c[0],c[1],c[2])),e=new Date(new Date(c[0],c[1],c[2]).getTime()).getTimezoneOffset()+(d?120:60);return e=60*e*1e3/1e3,new Date(c[0],c[1],c[2]).getTime()/1e3-e},parseDateTime:function(b){var c=b.split(" ");return a.util.core.parseDate(c[0])+a.util.core.parseTime(c[1])},getCssUrl:function(a,b){if(b&&b.url)return b.url;var c,d=document.createElement("a"),e="default";return b&&b.name&&(e=b.name),d.href=location.href,c=d.protocol+"//r.dcs.redcdn.pl/http/o2/web/player/redcdn/"+a+"/css/",c+e+".css"},loadData:function(b,c,d){var e=new XMLHttpRequest,f=new a.Promise,c="xml"===c?"document":c;d&&(e.withCredentials=!0);try{e.open("GET",b,!0)}catch(g){return f.reject(),f}return e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)switch(c){case"text":f.resolve(e.responseText,e);break;case"document":f.resolve(e.responseXML,e);break;default:f.resolve(e.response,e)}else f.reject()},e.responseType=c||"json","document"===c&&e.overrideMimeType("text/xml"),e.send(),f},loadCss:function(b){for(var c=new a.Promise,d=document.createElement("link"),e=document.getElementsByTagName("link"),f=0;f<e.length;f++)if(e[f].getAttribute("href")===b)return c.resolve();return d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href",b),"undefined"!=typeof d&&document.getElementsByTagName("head")[0].appendChild(d),d.onload=function(){c.resolve()},d.onerror=function(){c.reject()},c},loadScript:function(b){for(var c=new a.Promise,d=document.createElement("script"),e=document.getElementsByTagName("script"),f=0;f<e.length;f++)if(e[f].getAttribute("src")===b)return c.resolve();return d.setAttribute("type","text/javascript"),d.setAttribute("src",b),d.onload=function(){c.resolve()},d.onerror=function(){c.reject()},"undefined"!=typeof d&&document.getElementsByTagName("head")[0].appendChild(d),c},track:function(a){var b=new Image(1,1);b.onload=b.onerror=function(){this.onerror=null,this.onload=null,this.src=""},b.src=a},dumpFunc:function(){return a.util.Logger.info("calling dumpFunc with args: "+[].slice.apply(arguments)),0},nxClickHandlerCreator:function(a,b,c){var d=0,e=0;return b||(b=1),function(f){return clearTimeout(d),++e>=b?(d=0,e=0,void a(f)):void(d=setTimeout(function(a){c&&e===b-1&&c(a),d=0,e=0},300,f))}}}}(atdsplayer),function(a){a.util=a.util||{},function(a){"use strict";var b={};b.VERSION="1.0.0";var c,d={},e=function(a,b){return function(){return b.apply(a,arguments)}},f=function(){var a,b,c=arguments,d=c[0];for(b=1;b<c.length;b++)for(a in c[b])a in d||!c[b].hasOwnProperty(a)||(d[a]=c[b][a]);return d},g=function(a,b){return{value:a,name:b}};b.DEBUG=g(1,"DEBUG"),b.INFO=g(2,"INFO"),b.TIME=g(3,"TIME"),b.WARN=g(4,"WARN"),b.ERROR=g(8,"ERROR"),b.OFF=g(99,"OFF");var h=function(a){this.context=a,this.setLevel(a.filterLevel),this.log=this.info};h.prototype={setLevel:function(a){a&&"value"in a&&(this.context.filterLevel=a)},enabledFor:function(a){var b=this.context.filterLevel;return a.value>=b.value},debug:function(){this.invoke(b.DEBUG,arguments)},info:function(){this.invoke(b.INFO,arguments)},warn:function(){this.invoke(b.WARN,arguments)},error:function(){this.invoke(b.ERROR,arguments)},time:function(a){"string"==typeof a&&a.length>0&&this.invoke(b.TIME,[a,"start"])},timeEnd:function(a){"string"==typeof a&&a.length>0&&this.invoke(b.TIME,[a,"end"])},invoke:function(a,b){c&&this.enabledFor(a)&&c(b,f({level:a},this.context))}};var i=new h({filterLevel:b.OFF});!function(){var a=b;a.enabledFor=e(i,i.enabledFor),a.debug=e(i,i.debug),a.time=e(i,i.time),a.timeEnd=e(i,i.timeEnd),a.info=e(i,i.info),a.warn=e(i,i.warn),a.error=e(i,i.error),a.log=a.info}(),b.setHandler=function(a){c=a},b.setLevel=function(a){i.setLevel(a);for(var b in d)d.hasOwnProperty(b)&&d[b].setLevel(a)},b.get=function(a){return d[a]||(d[a]=new h(f({name:a},i.context)))},b.useDefaults=function(a){if("undefined"!=typeof console){var c={},d=function(a,b){Function.prototype.apply.call(a,console,b)};b.setLevel(a||b.DEBUG),b.setHandler(function(a,e){var f=console.log;e.name&&(a[0]="["+e.name+"] "+a[0]),e.level===b.TIME?"start"===a[1]?console.time?console.time(a[0]):c[a[0]]=(new Date).getTime():console.timeEnd?console.timeEnd(a[0]):d(f,[a[0]+": "+((new Date).getTime()-c[a[0]])+"ms"]):(e.level===b.WARN&&console.warn?f=console.warn:e.level===b.ERROR&&console.error?f=console.error:e.level===b.INFO&&console.info&&(f=console.info),d(f,a))})}},"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&module.exports?module.exports=b:(b._prevLogger=a.Logger,b.noConflict=function(){return a.Logger=b._prevLogger,b},a.Logger=b)}(a.util),a.util.Logger.useDefaults()}(atdsplayer),function(a){a.util=a.util||{},a.util.dom={createElm:function(b,c){var d=document.createElement(b);return a.util.dom.addClass(d,c),d},getPosition:function(a){for(var b=0,c=0;a;)b+=a.offsetLeft-a.scrollLeft+a.clientLeft,c+=a.offsetTop-a.scrollTop+a.clientTop,a=a.offsetParent;return b+=document.body.scrollLeft,c+=document.body.scrollTop,{x:b,y:c}},getStyle:function(a,b){var c;return a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c},getIntegerStyle:function(b,c,d){var e=parseInt(a.util.dom.getStyle(b,c));return d=d||0,isNaN(e)?d:e},hasClass:function(a,b){return b?(b=b.trim(),a.classList?a.classList.contains(b):a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))):!1},addClass:function(b,c){return c?(c=c.trim(),b.classList&&!b.classList.contains(c)?void b.classList.add(c):void(a.util.dom.hasClass(b,c)||(b.className+=" "+c))):void 0},removeClass:function(a,b){if(b){if(b=b.trim(),a.classList&&a.classList.contains(b))return void a.classList.remove(b);if(this.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}}}}(atdsplayer),function(a){function b(){var a={};return{on:function(b,c){var d;d="string"!=typeof b?[b]:b.split(" ");for(var e=0;e<d.length;++e)a.hasOwnProperty(d[e])||(a[d[e]]=[]),a[d[e]].push(c)},off:function(b,c){if(null===b||void 0===b||""===b)return void(a={});var d;d="string"!=typeof b?[b]:b.split(" ");for(var e=0;e<d.length;++e)if(c){if(a[d[e]]&&a[d[e]].length)for(var f;-1!==(f=a[d[e]].indexOf(c));)a[d[e]].splice(f,1)}else delete a[d[e]]},fireEvent:function(b,c){var d,e=Array.prototype.slice.call(arguments);if(e.shift(),a.hasOwnProperty(b)){d=a[b];for(var f=0;f<d.length;f++)d[f].apply(null,e)}}}}a.EventManager=b}(atdsplayer),function(a){function b(){var a,b,d=null;for(b=0;b<c.length;b++)if(c[b][0]in document){a=c[b];break}if(a)for(d={},b=0;b<a.length;b++)d[c[0][b]]=a[b];return d}var c=[["exitFullscreen","requestFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitExitFullscreen","webkitRequestFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitCancelFullScreen","webkitRequestFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozCancelFullScreen","mozRequestFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msExitFullscreen","msRequestFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];a.util=a.util||{},a.util.getFullscreenApi=b}(atdsplayer),function(a){function b(){if(!(this instanceof b))throw new Error('You should create ObserverManager with the "new" operator!');this.observerData=[]}a.util=a.util||{},b.prototype={subscribe:function(a){this.observerData.push(a)},unSubscribe:function(a){for(var b=this.observerData.length,c=0;b>c;c++)if(a===this.observerData[c]){this.observerData.splice(c,1);break}},notify:function(a,b){for(var c=this.observerData.length,d=Array.prototype.slice.call(arguments),e=0;c>e;e++)this.observerData[e]&&"notify"in this.observerData[e]&&this.observerData[e].notify.apply(this.observerData[e],d)}},a.util.ObserverManager=b}(atdsplayer),function(a){a.util=a.util||{},a.util.polyfill={isArray:function(){Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)})},trim:function(){if(!String.prototype.trim){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}},bind:function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})},arrayIsArray:function(){"undefined"==typeof Array.isArray&&(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)})},arrayFilter:function(){Array.prototype.filter||(Array.prototype.filter=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=[],d=arguments[1],e=0;b>e;e++)if(e in this){var f=this[e];a.call(d,f,e,this)&&c.push(f)}return c})},all:function(){this.isArray(),this.trim(),this.bind(),this.arrayFilter(),this.arrayIsArray()}}}(atdsplayer),function(a){"use strict";function b(){this.result=null,this.doneCallbacks=[],this.failCallbacks=[],this.progressCallbacks=[]}var c="pending",d="resolved",e="rejected";b.prototype={status:c,resolve:function(){for(this.result=arguments,this.status=d,this.failCallbacks=[];this.doneCallbacks.length;)this.doneCallbacks.shift().apply(null,this.result);return this.progressCallbacks=[],this},progress:function(a){switch(this.status){case d:a.apply(null,this.result);break;case c:this.progressCallbacks.push(a)}return this},notify:function(){for(var a=0;a<this.progressCallbacks.length;a++)this.progressCallbacks[a].apply(null,arguments);return this},reject:function(){for(this.result=arguments,this.status=e,this.doneCallbacks=[];this.failCallbacks.length;)this.failCallbacks.shift().apply(null,this.result);return this},done:function(a){switch(this.status){case d:a.apply(null,this.result);break;case c:this.doneCallbacks.push(a)}return this},fail:function(a){switch(this.status){case e:a.apply(null,this.result);break;case c:this.failCallbacks.push(a)}return this}},a.Promise=b}(atdsplayer),function(a){a.util=a.util||{},a.util.renderer={getRendererUrls:function(a){var b,c=document.createElement("a"),d="RedCDNPlayer";return c.href=location.href,b=c.protocol+"//r.dcs.redcdn.pl/http/o2/web/player/redcdn/"+a+"/lib/",{flash:b+d+".swf",silverlight:b+d+".xap"}},isMobile:{match:function(a){return navigator.userAgent.match(a)},Android:function(){return a.util.renderer.isMobile.match(/Android/i)},BlackBerry:function(){return a.util.renderer.isMobile.match(/BlackBerry/i)},iOS:function(){return a.util.renderer.isMobile.match(/iPhone|iPad|iPod/i)},Opera:function(){return a.util.renderer.isMobile.match(/Opera Mini/i)},Windows:function(){return a.util.renderer.isMobile.match(/IEMobile/i)},any:function(){return a.util.renderer.isMobile.Android()||a.util.renderer.isMobile.BlackBerry()||a.util.renderer.isMobile.iOS()||a.util.renderer.isMobile.Opera()||a.util.renderer.isMobile.Windows()}},parseFileList:function(b){var c,d,e,f,g=[],h=a.MediaType;if(Array.isArray(b))for(f=0;f<b.length;++f)"string"==typeof b[f]?(d=b[f],e=d.split(".")[d.split(".").length-1],c=h[e.toUpperCase()]):(c=b[f].type||a.MediaType.MP4,d=b[f].url),g.push({type:c,url:d});else if("object"==typeof b)for(var i in b)if(b.hasOwnProperty(i))if(c=h[i.toUpperCase()],Array.isArray(b[i]))for(f=0;f<b[i].length;++f)g.push({type:c,url:b[i][f].src});else g.push({type:c,url:b[i]});return g},getSupportedRendererList:function(b,c){for(var d,e=a.PlayerRenderer,f=a.SupportedRenderers,g=[],h=a.MediaType,i=function(a,b){return a.filter(function(a){return a===b})},j=this.parseFileList(b),k=0;k<c.length;k++)for(var l=0;l<j.length;l++){d=j[l];var m=c[k],n=!1;switch(m.toUpperCase()){case e.DASH:(this.isIEMobile()||!this.isMobile.any())&&i(f[e.DASH],d.type).length&&this.canPlayDash()&&g.push({url:d.url,name:e.DASH,type:d.type});break;case e.HTML5:n=this.canPlayHTML5(d.type),!n&&h.HLS===d.type&&this.isMobile.any()&&(n=!0),"undefined"!=typeof d.type&&i(f[e.HTML5],d.type).length&&n&&g.push({url:d.url,name:e.HTML5,type:d.type});break;case e.FLASH:i(f[e.FLASH],d.type).length&&this.canPlayFlash()&&g.push({url:d.url,name:e.FLASH,type:d.type});break;case e.SILVERLIGHT:i(f[e.SILVERLIGHT],d.type).length&&this.canPlaySliverlight()&&g.push({url:d.url,name:e.SILVERLIGHT,type:d.type});break;case e.AUDIO:i(f[e.AUDIO],d.type).length&&g.push({url:d.url,name:e.AUDIO,type:d.type})}}return g},canPlayHTML5:function(a){return document.createElement("video").canPlayType(a)},canPlaySliverlight:function(a){void 0==a&&(a=null);var b=!1;try{var c=!1;try{var d=navigator.plugins["Silverlight Plug-In"];if(d)if(null===a)b=!0;else{for(var e=actualVer.split(".");e.length>3;)e.pop();for(;e.length<4;)e.push(0);for(var f=a.split(".");f.length>4;)f.pop();var g,h,i=0;do g=parseInt(f[i]),h=parseInt(e[i]),i++;while(i<f.length&&g===h);h>=g&&!isNaN(g)&&(b=!0)}else c=!0}catch(j){c=!0}if(c){var k=new ActiveXObject("AgControl.AgControl");null===a?b=!0:k.IsVersionSupported(a)&&(b=!0),k=null}}catch(j){b=!1}return b},canPlayDash:function(){return"undefined"!=typeof window.MediaSource&&!this.isSafari()},isSafari:function(){return!this.isIEMobile()&&/^((?!chrome).)*safari/i.test(navigator.userAgent)},isIEMobile:function(){return navigator.userAgent.indexOf("IEMobile")>-1},isOpera:function(){return!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},isFirefox:function(){return navigator.userAgent.indexOf("Firefox")>-1},canPlayFlash:function(){if(null!=navigator.plugins&&navigator.plugins.length>0)return navigator.plugins["Shockwave Flash"]&&!0;if(~navigator.userAgent.toLowerCase().indexOf("webtv"))return!0;if(~navigator.appVersion.indexOf("MSIE")&&!~navigator.userAgent.indexOf("Opera"))try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&!0}catch(a){}return!1}}}(atdsplayer),function(a){function b(){this.intervalRef=null,this.interval=250,this.counter=0,this.immediateUpdate=!0,this.update=function(){}}b.prototype.start=function(){clearInterval(this.intervalRef),this.immediateUpdate&&this.update(),this.intervalRef=setInterval(function(){this.counter++,this.update()}.bind(this),this.interval)},b.prototype.stop=function(){clearInterval(this.intervalRef)},a.Timer=b}(atdsplayer),function(a){function b(c){c.start&&(this.startTS=1e3*a.util.core.parseDateTime(c.start),this.start=this.startTS-b.BASE_TIMESTAMP),this.mode=b.LIVE_MODE,c.stop&&(this.endTS=1e3*a.util.core.parseDateTime(c.stop),this.end=this.endTS-b.BASE_TIMESTAMP),c.start&&c.stop&&(this.mode=b.VOD_MODE),c.play&&(this.play=1e3*a.util.core.parseDateTime(c.play)-b.BASE_TIMESTAMP,c.stop||(this.mode=b.LIVE_DELAYED_MODE)),this.duration=(this.end-this.start)/1e3,this.currentTime=0,this.gotHead=!1,this.timeShiftIntervalInt=null}b.BASE_TIMESTAMP=9783072e5,b.LIVE_MODE="is-live",b.LIVE_DELAYED_MODE="live-delayed",b.VOD_MODE="vod-mode",b.VOD_SHIFTED_MODE="vod-shifted-mode",b.convertDateTimeToDcsTime=function(c){var d=1e3*a.util.core.parseDateTime(c);return d-b.BASE_TIMESTAMP},b.prototype.hasEnd=function(){return this.end&&!isNaN(this.end)&&this.end>0},b.prototype.isLiveMode=function(){return this.mode===b.LIVE_MODE},b.prototype.switchLiveMode=function(a){this.mode=a?b.LIVE_MODE:b.LIVE_DELAYED_MODE},b.prototype.reset=function(){this.currentTime=0,this.headTS=this.startTS},b.prototype.setBaseUrl=function(a){return this.baseUrl=a},b.prototype.generateStartUrl=function(b){return this.play&&!isNaN(this.play)&&b!==a.PlayerRenderer.SILVERLIGHT?this.generateUrlWithShift((this.play-this.start)/1e3):this.generateUrlWithShift(0)},b.prototype.generateUrlWithShift=function(a){var c=this.baseUrl;return this.isLiveMode()?this.baseUrl:(c+=-1===c.indexOf("?")?"?":"&",a=Math.floor(a),this.currentTime=a&&!isNaN(a)?a:0,isNaN(this.start)||this.mode==b.LIVE_MODE||(c+="startTime="+(this.start+1e3*this.currentTime)),isNaN(this.end)||this.mode==b.LIVE_MODE||(c+="&stopTime="+(this.end+1e3*this.currentTime)),c)},b.prototype.getHeadTime=function(){return this.headTS?this.headTS-b.BASE_TIMESTAMP:null},b.prototype.setHeadTime=function(a){var c=this;this.gotHead=!0,this.headTS=1e3*a+b.BASE_TIMESTAMP,isNaN(this.startTS)&&(this.startTS=this.headTS,this.start=this.startTS-b.BASE_TIMESTAMP),clearInterval(this.timeShiftIntervalInt),this.timeShiftIntervalInt=setInterval(function(){c.headTS+=1e3},1e3)},b.prototype.updateCurrentTime=function(a){return(0>a||isNaN(a))&&(a=0),this.currentTime=(b.BASE_TIMESTAMP+1e3*a-this.startTS)/1e3,b.VOD_MODE===this.mode||this.mode!==b.LIVE_MODE&&this.mode!==b.LIVE_DELAYED_MODE||(this.duration=(this.headTS-this.startTS)/1e3),this.currentTime},b.prototype.getCurrentTime=function(){return this.currentTime},b.prototype.getCurrentDate=function(){return this.currentTime<0?0:this.startTS+1e3*this.currentTime},b.prototype.getDuration=function(a){return isNaN(this.duration)&&!isNaN(a)?a:this.duration},a.TimeShift=b}(atdsplayer),function(a){var b=[{name:"playPause"},{name:"stop"},{name:"progress"},{name:"description"},{name:"live"},{name:"time"},{name:"profile"},{name:"subtitle"},{name:"volume"},{name:"fullscreen"}];a.controls=function(){return function(c,d,e){function f(){ya={};for(var a=0;a<na.length;a++)switch(na[a].name){case"playPause":h(na[a]);break;case"stop":i();break;case"profile":j();break;case"volume":k();break;case"time":l();break;case"fullscreen":m();break;case"progress":n();break;case"description":o();break;case"live":p();break;case"subtitle":q()}}function g(){la.on(ta.PROGRESS_POSITION_CHANGED,function(a){Aa.fireEvent(ta.PROGRESS_POSITION_CHANGED,a)}),la.on(ta.PROGRESS_POSITION_CHANGING,function(a){Aa.fireEvent(ta.PROGRESS_POSITION_CHANGING,a)}),la.on(a.PlayerEvent.SEEK_START,function(b){Aa.fireEvent(a.PlayerEvent.SEEK_START,b)}),ka.on(ta.VOLUME_CHANGED,function(a){Aa.fireEvent(ta.VOLUME_CHANGED,a)}),ma.on(ta.BANDWIDTH_CHANGED,function(a){Aa.fireEvent(ta.BANDWIDTH_CHANGED,a)}),ma.on("profileListShow",function(){Aa.fireEvent("profileListShow")}),_.addEventListener("click",B),aa.addEventListener("click",B),ba.addEventListener("click",E),ca.addEventListener("click",C),da.addEventListener("click",D),ea.addEventListener("click",A)}function h(){$=qa("div",Ba+"-btn-play-pause"),pa.addClass($,Ba+"-btn"),Z.appendChild($),_=qa("div",Ba+"-btn-play"),pa.addClass(_,Ba+"-btn"),$.appendChild(_),ba=qa("div",Ba+"-btn-pause"),pa.addClass(ba,Ba+"-btn"),$.appendChild(ba),ya.playPause=$}function i(){ca=qa("div",Ba+"-btn-stop"),pa.addClass(ca,Ba+"-btn"),Z.appendChild(ca),ya.stop=ca,d.audioControls&&(ca.style.display="none")}function j(){ma=new wa(Ba,d.abr),Z.appendChild(ma.getElm()),ya.profile=ma.getElm()}function k(){d.audioControls&&(d.volumeType="horizontal"),ka=new ua(Ba,d.volumeType),Z.appendChild(ka.getElm()),ya.volume=ka.getElm()}function l(){ga=qa("div",Ba+"-controls-time"),ga.innerHTML="00:00",Z.appendChild(ga),ya.time=ga}function m(){da=qa("div",Ba+"-btn-fullscreen"),Z.appendChild(da),ya.fullscreen=da}function n(){la=new va(Ba),Z.appendChild(la.getElm()),la.getElm().setAttribute("data-width","auto"),ya.progress=la.getElm()}function o(){if(ja=qa("div",Ba+"-controls-description"),ja.setAttribute("data-width","auto"),Z.appendChild(ja),ya.description=ja,d.audioControls){
ia=qa("div",Ba+"-controls-buffering"),ia.style.display="none";var a=qa("p",d.cssPrefix+"-spinner-small");a.style.display="block",ia.appendChild(a);var b=qa("span");b.innerHTML="buffering",ia.appendChild(b),ja.appendChild(ia)}}function p(){ea=qa("div",Ba+"-btn-live"),ea.innerHTML="<button>LIVE</button>",pa.addClass(ea,Ba+"-btn"),Z.appendChild(ea),ya.live=ea}function q(){fa=qa("div",Ba+"-btn-subtitle"),pa.addClass(fa,Ba+"-btn"),Z.appendChild(fa),ya.subtitle=fa}function r(){t()}function s(){d.audioControls||(clearTimeout(oa),d.hideControls&&(oa=setTimeout(function(){pa.removeClass(Y,"visible"),pa.addClass(Y,"hidden"),ma.hideList(),c.style.cursor="none",xa.notify(a.GuiEvent.CONTROLS_HIDE)},3e3)))}function t(){pa.hasClass(Y,"hidden")&&(pa.removeClass(Y,"hidden"),pa.addClass(Y,"visible"),z(),xa.notify(a.GuiEvent.CONTROLS_SHOW)),c.style.cursor="default",s()}function u(){la.showDrag()}function v(){la.hideDrag()}function w(a){ha=a,la.setTimeShift(ha),ha&&!ha.hasEnd()?(ea.style.display="block",S(ha.isLiveMode())):ea.style.display="none",z()}function x(a,b){0>a||(isNaN(b)||isNaN(a)||(ha&&ha.isLiveMode()?la.update(b,100):la.update(b,a/b*100)),y(a,b))}function y(b,c){ha?isNaN(b)||(isNaN(ha.startTS)?ga.innerHTML=ra(b):ga.innerHTML=a.util.core.formatDateTime(ha.startTS/1e3+b).split(" ")[1]):isNaN(c)||(c>=3600?ga.innerHTML=ra(b):ga.innerHTML=ra(b)+" / "+ra(c)),ga.offsetWidth!==ga.$w&&(ga.$w=ga.offsetWidth,z())}function z(){if(null!==Y.parentNode){for(var a,b=0,c=0,e=0,f=0;f<na.length;f++)a=ya[na[f].name],a&&"none"!==a.style.display&&"auto"!==a.getAttribute("data-width")&&"absolute"!==a.style.position&&(b+=a.clientWidth,b+=pa.getIntegerStyle(a,"margin-left"),b+=pa.getIntegerStyle(a,"margin-right"));Y.style.width=Y.parentNode.clientWidth-2*za(Y,"left")+"px",b=parseInt(Y.clientWidth)-(b+za(Y,"border-left-width")+za(Y,"border-right-width")),e=b-(za(la.getElm(),"margin-left")+za(la.getElm(),"margin-right")),e-=1,c=b-(za(ja,"margin-left")+za(ja,"margin-right")),Z.style.width=Y.style.width,d.audioControls&&(c-=13,e-=13),ja.style.width=c+"px",la.setWidth(e),za(Y,"max-width")&&(Y.style.marginLeft=Y.parentNode.clientWidth/2-(Y.clientWidth+2*za(Y,"left"))/2+"px")}}function A(){Aa.fireEvent(ta.LIVE_BUTTON_CLICKED)}function B(){Aa.fireEvent(ta.PLAY_BUTTON_CLICKED)}function C(){Aa.fireEvent(ta.STOP_BUTTON_CLICKED),la.reset()}function D(){Aa.fireEvent(ta.FULLSCREEN_BUTTON_CLICKED)}function E(){Aa.fireEvent(ta.PAUSE_BUTTON_CLICKED)}function F(){(X===sa.PLAYING||X===sa.BUFFERING)&&Aa.fireEvent(ta.PAUSE_BUTTON_CLICKED),(X===sa.PAUSED||X===sa.STOPPED)&&Aa.fireEvent(ta.PLAY_BUTTON_CLICKED)}function G(){t(),ka.increase()}function H(){t(),ka.decrease()}function I(){Ca||(t(),la.goForward())}function J(){Ca||(t(),la.goBackward())}function K(a){ka.update(a)}function L(){la.reset()}function M(){_.style.display="none",ba.style.display="block",P()}function N(){_.style.display="block",ba.style.display="none",O()}function O(){d.audioControls||(aa.style.display="block")}function P(){aa.style.display="none"}function Q(a,b){ma.setProfiles(a,b)}function R(a,b){ma.setCurrentProfile(a,b),z()}function S(a){a?pa.removeClass(ea,"timeshift-live-mode-off"):pa.addClass(ea,"timeshift-live-mode-off")}function T(){Ca=!0,pa.removeClass(Y,Ba+"-ad"),pa.addClass(Y,Ba+"-live"),la.hide(),ga.style.display="none",ja.style.display="block",ca.style.display=d.audioControls?"none":"",da.style.display=d.audioControls?"none":""}function U(){Ca=!1,pa.removeClass(Y,Ba+"-ad"),pa.removeClass(Y,Ba+"-live"),la.show(),ga.style.display="",ja.style.display="none",ca.style.display=d.audioControls?"none":"",da.style.display=d.audioControls?"none":"",!d.timeShift||d.timeShift.start&&d.timeShift.stop||(ga.style.display="none",ea.style.display="block")}function V(){Ca=!1,pa.addClass(Y,Ba+"-add"),pa.removeClass(Y,Ba+"-live"),la.hide(),ga.style.display="none",ja.style.display="block",ca.style.display="none",ea.style.display="none"}function W(){ma.reset()}var X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=a.util.dom,qa=pa.createElm,ra=a.util.core.formatTime,sa=a.PlaybackState,ta=a.ControlEvent,ua=a.VolumeControl,va=a.ProgressControl,wa=a.ProfileControl,xa=e.getObserver(),ya={},za=pa.getIntegerStyle,Aa=new a.EventManager,Ba=d.cssPrefix,Ca=!1;return na=b,aa=qa("div",Ba+"-btn-play-big"),c.appendChild(aa),Y=document.createElement("div"),pa.addClass(Y,Ba+"-controls"),Z=document.createElement("div"),pa.addClass(Z,Ba+"-controls-inner"),Z.style.width=c.offsetWidth+"px",Y.appendChild(Z),f(),g(),d.hideControls&&(c.addEventListener("mousemove",r),s()),{on:Aa.on,off:Aa.off,getElm:function(){return Y},setTimeShift:w,setPlaybackState:function(a){X=a,d.audioControls&&ia&&(X===sa.BUFFERING?ia.style.display="block":ia.style.display="none"),X===sa.PLAYING||X===sa.PAUSED||X===sa.BUFFERING?la.enable():la.disable()},resetVideoPosition:L,showProgressBarDrag:u,hideProgressBarDrag:v,update:x,updateTime:y,updateLayout:z,showPlay:N,showBigPlay:O,hideBigPlay:P,updateVolumeProgress:K,showPause:M,setLiveView:T,setMainView:U,setAdView:V,switchLiveMode:S,getSubtitleBtn:function(){return fa},addProfiles:Q,changeProfile:R,resetProfiles:W,getProfileByBandwidth:ma.getProfileByBandwidth,spaceKeyPressed:F,upKeyPressed:G,downKeyPressed:H,rightKeyPressed:I,leftKeyPressed:J}}}()}(atdsplayer),function(a){function b(b,d,e,f,g){function h(){b.style.background="#000",f.audioControls&&(f.height=36),A=f.width,B=f.height,b.style.width=f.width+"px",b.style.height=f.height+"px",f.audioControls&&D.addClass(b.parentNode,F+"-audio"),f.splashscreen&&(y=new a.Splashscreen(b,f.splashscreen,F)),x=E("div",F+"-spinner"),b.appendChild(x),C=new a.controls(b,f,g),f.autofocus&&(z=E("input",F+"-event-input"),z.style.opacity="0",b.appendChild(z)),f.controls&&b.appendChild(C.getElm()),f.title&&(N=new a.Title(b,f)),O=new c(f),b.appendChild(O.getElm())}function i(){C.resetProfiles()}function j(){k(),window.addEventListener("resize",n),b.addEventListener("click",m),z&&(z.addEventListener("keydown",o),C.on("profileListShow",function(){z.focus()})),K&&document.addEventListener(K.fullscreenchange,p),e.addEventListener("click",M),d.addEventListener("click",M)}function k(){window.removeEventListener("resize",n),b.removeEventListener("click",m),z&&z.removeEventListener("keydown",o),K&&document.removeEventListener(K.fullscreenchange,p),e.removeEventListener("click",M),d.removeEventListener("click",M)}function l(b){(b.target.parentNode===e||b.target.parentNode.parentNode===e)&&I.fireEvent(a.GuiEvent.VIDEO_AD_CLICKED)}function m(){z&&z.focus()}function n(){C.updateLayout(),y&&!f.deviceControls&&y.update()}function o(a){switch(a.keyCode){case 70:u();break;case 32:C.spaceKeyPressed();break;case 38:C.upKeyPressed();break;case 40:C.downKeyPressed();break;case 39:C.rightKeyPressed();break;case 37:C.leftKeyPressed()}}function p(){document[K.fullscreenElement]?(D.addClass(J,"mode-fullscreen"),L.setAttribute("width","100%"),L.setAttribute("height","100%"),b.style.width="100%",b.style.height="100%"):(D.removeClass(J,"mode-fullscreen"),L.setAttribute("width",f.width),L.setAttribute("height",f.height),b.style.width=f.width+"px",b.style.height=f.height+"px"),C.updateLayout(),I.fireEvent(a.GuiEvent.FULLSCREEN_CHANGE),H.notify(a.GuiEvent.FULLSCREEN_CHANGE)}function q(){y&&!f.deviceControls&&"video"===G&&y.show()}function r(){y&&!f.deviceControls&&y.hide()}function s(){d.style.display="none",e.style.display="block",N&&N.disable()}function t(){d.style.display="block",e.style.display="none",O.hide(),N&&N.enable()}function u(){K&&f.fullscreen&&L&&(v()?document[K.exitFullscreen]():J[K.requestFullscreen]())}function v(){return document[K.fullscreenElement]}function w(a,c){b.style.width=a+"px",b.style.height=c+"px",L&&(L.setAttribute("width",a+"px"),L.setAttribute("height",c+"px")),f.width=a,f.height=c,C.updateLayout()}var x,y,z,A,B,C,D=a.util.dom,E=D.createElm,F=f.cssPrefix,G=f.type,H=g.getObserver(),I=new a.EventManager,J=b.parentNode,K=a.util.getFullscreenApi(),L=null,M=a.util.core.nxClickHandlerCreator(u,2,l),N=null,O=null;return h(),j(),{on:I.on,off:I.off,isFullscreen:v,showSpinner:function(){f.deviceControls||(x.style.display="block")},hideSpinner:function(){f.deviceControls||(x.style.display="none")},contentInfo:O,getControls:function(){return C},getPlaceholder:function(){return J},getContainer:function(){return b},getCssPrefix:function(){return F},getInitialWidth:function(){return A},getInitialHeight:function(){return B},setRenderer:function(a){null!==a&&(L=a,D.hasClass(J,"mode-fullscreen")?(L.setAttribute("width","100%"),L.setAttribute("height","100%")):(L.setAttribute("width",f.width+"px"),L.setAttribute("height",f.height+"px")))},ready:function(){C.showPause(),C.showProgressBarDrag()},removeEvents:k,reset:i,resize:w,toggleFullscreen:u,showSplashscreen:q,hideSplashscreen:r,toggleAdVideoOn:s,toggleMainVideoOn:t}}function c(b){function c(){l=k("div"),l.setAttribute("class",m+"-content-info"),i=k("div"),i.setAttribute("class","text"),l.appendChild(i),h=k("div"),h.setAttribute("class","time"),l.appendChild(h)}function d(a){i.innerHTML=a}function e(a,b){var c=b-a;(0===c||isNaN(c))&&(c=0),h.innerHTML=parseInt(c)+"s"}function f(){"block"!==l.style.display&&(l.style.display="block")}function g(){l.style.display="none"}var h,i,j=a.util.dom,k=j.createElm,l=null,m=b.cssPrefix;return c(),{getElm:function(){return l},show:f,hide:g,setInfo:d,updateTime:e}}a.Gui=b}(atdsplayer),function(a){function b(b,c){function d(){m.addEventListener("click",g),document.addEventListener("click",e)}function e(){j.hasClass(n,"visible")&&f()}function f(){clearTimeout(p),j.addClass(n,"hidden"),j.removeClass(n,"visible")}function g(a){var b=a?a:window.event;b.stopPropagation&&b.stopPropagation(),null!=b.cancelBubble&&(b.cancelBubble=!0),o.fireEvent("profileListShow"),h()}function h(){if(clearTimeout(p),j.hasClass(n,"visible"))return void f();p=setTimeout(function(){f()},q),j.removeClass(n,"hidden"),j.addClass(n,"visible"),n.style.display="block";for(var a="",b=0;b<r.length;b++)a+="<p "+(t.bandwidth!==r[b].bandwidth||s?"":"class='selected'")+" data-bandwidth='"+r[b].bandwidth+"'>"+(r[b].height?r[b].height+"p (":"")+parseInt(r[b].bandwidth/1e3)+") </p>";c&&(a+=s?"<p "+(s?"class='selected'":"")+" data-bandwidth='auto'>auto ("+parseInt(t.bandwidth/1e3)+")</p>":"<p data-bandwidth='auto'>auto</p>"),n.innerHTML=a,n.style.top=-(n.offsetHeight+12)+"px",n.style.marginLeft=-(n.offsetWidth/2)+"px";var d=n.getElementsByTagName("p");for(b=0;b<d.length;b++){var e,g=d[b];!function(a,b){a.onclick=function(){f(),j.removeClass(m,"auto"),b=a.getAttribute("data-bandwidth"),s="auto"===b,s&&(m.innerHTML="auto",j.addClass(m,"auto")),o.fireEvent(i.BANDWIDTH_CHANGED,b)}}(g,e)}}var i=a.ControlEvent,j=a.util.dom,k=j.createElm,l=k("div",b+"-btn-profile"),m=k("span"),n=k("div",b+"-profile-list"),o=new a.EventManager,p=0,q=5e3,r=[],s=!1,t={bandwidth:0};return l.appendChild(m),l.appendChild(n),d(),{on:o.on,off:o.off,reset:function(){r=[],l.style.display="none",f()},getElm:function(){return l},setProfiles:function(a,b){c=!b,r=a,l.style.display="block",n.style.display="none",1===r.length&&(l.style.display="none")},getProfiles:function(){return r},getProfileByBandwidth:function(a){for(var b=0;b<r.length;++b)if(r[b].bandwidth===a)return r[b];return null},setCurrentProfile:function(a,b){if(null!==a){if(s=b,t=a,m.innerHTML=a.height+"p",j.removeClass(m,"auto"),s)for(var c=n.getElementsByTagName("p"),d=0;d<c.length;d++)"auto"===c[d].getAttribute("data-bandwidth")&&(c[d].innerHTML="auto ("+parseInt(t.bandwidth/1e3)+")");s&&(m.innerHTML="auto",j.addClass(m,"auto"))}},hideList:f}}a.ProfileControl=b}(atdsplayer),function(a){function b(b){function c(){u.addEventListener("mousedown",e),u.addEventListener("mousemove",j),u.addEventListener("mouseleave",i)}function d(){u.removeEventListener("mousedown",e),u.removeEventListener("mousemove",j),u.removeEventListener("mouseleave",h)}function e(b){var c,d=b?b:window.event;d.preventDefault(),clearTimeout(o),B||(A=!0,window.addEventListener("mousemove",g),window.addEventListener("mouseup",f),G.fireEvent(a.PlayerEvent.SEEK_START,F),c=b.pageX-q.getPosition(t.parentNode).x-t.offsetLeft,F=c/t.offsetWidth*100,w.style.width=F+"%",x.style.left=c+"px",G.fireEvent(p.PROGRESS_POSITION_CHANGING,F))}function f(a){window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f);var b=a.pageX-q.getPosition(t.parentNode).x-t.offsetLeft;b>=t.offsetWidth-4&&(b=t.offsetWidth-4),0>b&&(b=0),F=b/t.offsetWidth*100,F>100&&(F=100),x.style.left=b+"px",G.fireEvent(p.PROGRESS_POSITION_CHANGED,F),clearTimeout(o),o=setTimeout(function(){A=!1},500)}function g(a){var b=a.pageX-q.getPosition(t.parentNode).x-t.offsetLeft;F=b/t.offsetWidth*100,0>b&&(b=0),F>100&&(F=100),b>=t.offsetWidth-4&&(b=t.offsetWidth-4),x.style.left=b+"px",w.style.width=F+"%",G.fireEvent(p.PROGRESS_POSITION_CHANGING,F)}function h(a){}function i(){q.removeClass(y,"visible"),q.addClass(y,"hidden")}function j(a){if(!B&&E>0){var b=parseInt(q.getIntegerStyle(t,"left")),c=a.pageX-q.getPosition(t.parentNode).x-b,d=a.pageX-q.getPosition(t).x-b,e=d/t.offsetWidth,f=e*E;y.style.left=c+"px",q.addClass(y,"visible"),q.removeClass(y,"hidden"),y.$pos=e,k(f)}else q.removeClass(y,"visible"),q.addClass(y,"hidden")}function k(b){z?y.innerHTML=a.util.core.formatDateTime(z.startTS/1e3+b):y.innerHTML=r(b),y.style.marginLeft="-"+Math.floor(y.offsetWidth/2)+"px"}function l(){C=!0,F+=1,F>99.9&&(F=99.9),w.style.width=F+"%",x.style.left=w.offsetWidth+"px",q.addClass(y,"visible"),q.removeClass(y,"hidden"),y.style.left=w.offsetWidth+t.offsetLeft+"px",k(E*F/100),clearTimeout(D),D=setTimeout(function(){q.removeClass(y,"visible"),q.addClass(y,"hidden"),G.fireEvent(p.PROGRESS_POSITION_CHANGED,F),C=!1},500)}function m(){C=!0,F-=1,0>F&&(F=0),w.style.width=F+"%",x.style.left=w.offsetWidth+"px",q.addClass(y,"visible"),q.removeClass(y,"hidden"),y.style.left=w.offsetWidth+t.offsetLeft+"px",k(E*F/100),clearTimeout(D),D=setTimeout(function(){q.removeClass(y,"visible"),q.addClass(y,"hidden"),G.fireEvent(p.PROGRESS_POSITION_CHANGED,F),C=!1},500)}function n(a){z=a}var o,p=a.ControlEvent,q=a.util.dom,r=a.util.core.formatTime,s=q.createElm,t=(q.getStyle,s("div",b+"-progress-control")),u=s("div",b+"-progress-control-inner"),v=s("div",b+"-progress-bar"),w=s("div",b+"-progress-video"),x=s("div",b+"-progress-control-drag"),y=s("div",b+"-progress-tooltip"),z=null,A=!1,B=!0,C=!1,D=0,E=0,F=0,G=new a.EventManager;return t.appendChild(u),u.appendChild(v),v.appendChild(w),u.appendChild(x),t.appendChild(y),c(),{on:G.on,setTimeShift:n,getElm:function(){return t},hide:function(){t.style.display="none"},show:function(){w.style.width=0,x.style.left="0px",t.style.display="block"},disable:function(){B=!0},enable:function(){B=!1},setWidth:function(a){v.style.width=a+"px"},reset:function(){w.style.width="0%",x.style.left="0px",F=0},showDrag:function(){x.style.display="block"},hideDrag:function(){x.style.display="none"},unRegisterEvents:d,update:function(a,b){C||(b>100&&(b=100),0>b&&(b=0),(E!==a||F!==b)&&(E=a,F=b,A||(q.hasClass(y,"visible")&&k(y.$pos*E),w.style.width=b+"%",x.style.left=b+"%")))},goForward:l,goBackward:m}}a.ProgressControl=b}(atdsplayer),function(a){function b(b,c,d){function e(){}function f(){"undefined"!=typeof i&&(i.style.display="block")}function g(){"undefined"!=typeof i&&(i.style.display="none")}var h=a.util.dom,i=h.createElm("div",d+"-splashscreen");return i.style.backgroundImage="url("+c+")",i.style.backgroundSize="contain",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="50% 50%",b.appendChild(i),g(),{show:f,hide:g,update:e}}a.Splashscreen=b}(atdsplayer),function(a){function b(b,c){function d(){b.appendChild(n),e(c.title),j(),f()}function e(a){n.innerHTML=a}function f(){l.removeClass(n,"hidden"),l.addClass(n,"visible"),clearTimeout(k),k=setTimeout(function(){g()},4e3)}function g(){l.removeClass(n,"visible"),l.addClass(n,"hidden")}function h(){n.style.display="none"}function i(){f(),n.style.display=""}function j(){b.addEventListener("mousemove",f)}var k,l=a.util.dom,m=l.createElm,n=m("div",c.cssPrefix+"-title"),o=new a.EventManager;return d(),{on:o.on,enable:i,disable:h,setText:e,getElm:function(){return n}}}a.Title=b}(atdsplayer),function(a){function b(b,c){function d(){clearTimeout(A),clearTimeout(B),B=setTimeout(function(){r.addClass(v,"visible"),r.removeClass(v,"hidden")},200)}function e(){"vertical"===c&&(r.removeClass(v,"visible"),r.addClass(v,"hidden"))}function f(){t.addEventListener("mouseenter",g),t.addEventListener("mouseleave",h),t.addEventListener("mousemove",g),x.addEventListener("mousedown",i),u.addEventListener("click",q)}function g(){d()}function h(){clearTimeout(B),A=setTimeout(function(){e()},900)}function i(a){var b,d,e=a?a:window.event;e.preventDefault(),C=!1,"vertical"===c?(b=Math.abs(a.pageY-r.getPosition(x).y-x.offsetHeight),d=b/x.offsetHeight*100):(b=Math.abs(a.pageX-r.getPosition(x).x),d=b/x.offsetWidth*100),d>100&&(d=100),0>d&&(d=0),D=d,j(d),n(d),x.addEventListener("mousemove",o),window.addEventListener("mouseup",p)}function j(a){D=a,F.fireEvent(E.VOLUME_CHANGED,a)}function k(){F.fireEvent(E.VOLUME_CHANGED,0)}function l(){d(),clearTimeout(A),A=setTimeout(function(){e()},2200),D+=5,D>100&&(D=100),F.fireEvent(E.VOLUME_CHANGED,D),n(D)}function m(){d(),clearTimeout(A),A=setTimeout(function(){e()},2200),D-=5,0>D&&(D=0),F.fireEvent(E.VOLUME_CHANGED,D),n(D)}function n(a){var d,e;"vertical"===c?(e=x.offsetHeight,d=e/100*a,7>d&&(d=7),d>e-4&&(d=e-4),y.style.height=d+"px",z.style.bottom=d-8+"px"):(e=x.offsetWidth,d=e/100*a,7>d&&(d=7),d>e-4&&(d=e-4),y.style.width=d+"px",z.style.left=d-8+"px"),u.className="",0===a?r.addClass(u,b+"-btn-volume-0"):a>75?r.addClass(u,b+"-btn-volume-75"):r.addClass(u,b+"-btn-volume")}function o(a){var b,d;C=!1,"vertical"===c?(b=Math.abs(a.pageY-r.getPosition(x).y-x.offsetHeight),d=b/x.offsetHeight*100):(b=Math.abs(a.pageX-r.getPosition(x).x),d=b/x.offsetWidth*100),d-=2,d>100&&(d=100),0>d&&(d=0),D=d,j(d),n(d)}function p(){x.removeEventListener("mousemove",o),window.removeEventListener("mouseup",p)}function q(a){C=!C,C?(k(),n(0)):(j(D),n(D))}var r=a.util.dom,s=r.createElm,t=s("div",b+"-volume-control"),u=s("div",b+"-btn-volume"),v=s("div",b+"-volume-control-bar"),w=s("div",b+"-volume-control-slider"),x=s("div",b+"-volume-control-action"),y=s("div",b+"-volume-control-progress"),z=s("div",b+"-volume-control-drag"),A=0,B=0,C=!1,D=0,E=a.ControlEvent,F=new a.EventManager;return r.addClass(t,b+"-volume-control-"+c),t.appendChild(u),t.appendChild(v),v.appendChild(w),v.appendChild(x),w.appendChild(y),w.appendChild(z),f(),{on:F.on,getElm:function(){return t},getIcon:function(){return u},increase:l,decrease:m,update:n}}a.VolumeControl=b}(atdsplayer),function(a){function b(b){this.renderer=this.create(b),this.options=b,this.eventManager=new a.EventManager,this.registerEvents(),this.type="AUDIO",this.source=null}b.prototype={on:function(a,b){this.eventManager.on(a,b)},off:function(a,b){this.eventManager.off(a,b)},destroy:function(){this.renderer.destroy();try{var a=document.getElementById(this.options.name);a.parentNode.removeChild(a)}catch(b){}},registerEvents:function(){var a=this;this.isListening=!0,setTimeout(function(){a.eventManager.fireEvent("ready")},200),this.renderer.on("sourceError",function(){a.eventManager.fireEvent("sourceError")}),this.renderer.on("fallback",function(){a.eventManager.fireEvent("fallback")}),this.renderer.on("waiting",function(b){a.eventManager.fireEvent("waiting",b)}),this.renderer.on("playing",function(b){a.eventManager.fireEvent("playing",b)}),this.renderer.on("pause",function(b){a.eventManager.fireEvent("pause",b)}),this.renderer.on("stopped",function(b){a.eventManager.fireEvent("stopped",b)}),this.renderer.on("ended",function(b){a.eventManager.fireEvent("ended",b)}),this.renderer.on("seeking",function(b){a.eventManager.fireEvent("seeking",b)}),this.renderer.on("seeked",function(b){a.eventManager.fireEvent("seeked",b)}),this.renderer.on("profiles",function(b){a.eventManager.fireEvent("profiles",b)}),this.renderer.on("onLive",function(){a.eventManager.fireEvent("onLive")}),this.renderer.on("profile",function(b,c){a.eventManager.fireEvent("profile",b,c)}),this.renderer.on("drmKeyError",function(b){a.eventManager.fireEvent("drmKeyError",b)}),this.renderer.on("metadata",function(b){a.eventManager.fireEvent("newMedia",b)}),this.renderer.on("buffered",function(b){a.eventManager.fireEvent("buffered",b)}),this.renderer.on("webAudioApiNotSupported",function(b){a.eventManager.fireEvent("webAudioApiNotSupported",b)})},getProperty:function(a){return"function"==typeof this.renderer.getProperty?this.renderer.getProperty(a):void 0},getSource:function(){return this.source},switchProfile:function(a,b){return this.renderer.switchProfile(a,b)},getElm:function(){return null},create:function(b){return new a.AudioPlayer(b)},play:function(a){this.source=a,this.renderer.play(a),this.renderer.setVolume(0)},pause:function(){this.renderer.stop()},resume:function(){this.renderer.play()},stop:function(){this.renderer.stop()},setVolume:function(a){this.renderer.setVolume(a)},setFullscreen:function(){},seek:function(a){this.renderer.seek(a)}},a.AudioRenderer=b}(atdsplayer),function(a){function b(b){this.renderer=this.create(b),this.options=b,this.eventManager=new a.EventManager,this.registerEvents(),this.type="DASH",this.source=null}var c=a.PlayerEvent;b.prototype={on:function(a,b){this.eventManager.on(a,b)},off:function(a,b){this.eventManager.off(a,b)},destroy:function(){this.renderer.destroy();try{var a=document.getElementById(this.options.name);a.parentNode.removeChild(a)}catch(b){}},registerEvents:function(){var a=this;this.isListening=!0,setTimeout(function(){a.eventManager.fireEvent("ready")},200),this.renderer.on("sourceError",function(){a.eventManager.fireEvent("sourceError")}),this.renderer.on("fallback",function(){a.eventManager.fireEvent("fallback")}),this.renderer.on("waiting",function(b){a.eventManager.fireEvent("waiting",b)}),this.renderer.on("playing",function(b){a.eventManager.fireEvent("playing",b)}),this.renderer.on("pause",function(b){a.eventManager.fireEvent("pause",b)}),this.renderer.on("stopped",function(b){a.eventManager.fireEvent("stopped",b)}),this.renderer.on("ended",function(b){a.eventManager.fireEvent("ended",b)}),this.renderer.on("seeking",function(b){a.eventManager.fireEvent("seeking",b)}),this.renderer.on("seeked",function(b){a.eventManager.fireEvent("seeked",b)}),this.renderer.on("profiles",function(b){a.eventManager.fireEvent("profiles",b)}),this.renderer.on("onLive",function(){a.eventManager.fireEvent("onLive")}),this.renderer.on("profile",function(b,c){a.eventManager.fireEvent("profile",b,c)}),this.renderer.on("drmKeyError",function(b){a.eventManager.fireEvent("drmKeyError",b)}),this.renderer.on("newMedia",function(b){a.eventManager.fireEvent("newMedia",b)}),this.renderer.on("report",function(b){a.eventManager.fireEvent("report",b)}),this.renderer.on(c.HEAD_TIME,function(b){a.eventManager.fireEvent(c.HEAD_TIME,b)})},getProperty:function(a){return"function"==typeof this.renderer.getProperty?this.renderer.getProperty(a):void 0},getSource:function(){return this.source},switchProfile:function(a,b){return this.renderer.switchProfile(a,b)},getElm:function(){return this.renderer.getVideo()},create:function(b){return new a.Player(b)},play:function(a){this.source=a,this.renderer.setSource(a,!0)},pause:function(){this.renderer.pause()},resume:function(){this.renderer.play()},stop:function(){this.renderer.stop()},setVolume:function(a){this.renderer.setVolume(a/100)},setFullscreen:function(){},seek:function(a,b){this.renderer.seek(a,b)}},a.DashRenderer=b}(atdsplayer),function(a){function b(b,c){this.eventManager=new a.EventManager,this.renderer=this.create(b,c),this.options=b,this.registerEvents(),this.type="FLASH",this.source=null}b.prototype={on:function(a,b){this.eventManager.on(a,b)},off:function(a,b){this.eventManager.off(a,b)},registerEvents:function(){var a=this;window[this.options.name]={event:function(){a.eventManager.fireEvent.apply(null,arguments)}}},destroy:function(){try{var a=document.getElementById(this.options.name);a.parentNode.removeChild(a)}catch(b){}},create:function(a,b){var c=document.createElement("object");c.data=b,c.type="application/x-shockwave-flash",c.id=a.name,c.width=a.width,c.height=a.height;var d=document.createElement("param");d.name="flashvars",d.value="callbackNamespace="+a.name,a.aspect&&(d.value+="&aspect="+a.aspect),"undefined"!=typeof a.smoothing&&(d.value+="&smoothing="+a.smoothing),"undefined"!=typeof a.volume&&(d.value+="&volume="+a.volume),"undefined"!=typeof a.reconnect&&(d.value+="&reconnect="+a.reconnect),"undefined"!=typeof a.bufferTime&&(d.value+="&bufferTime="+a.bufferTime);var e=document.createElement("param");e.name="allowScriptAccess",e.value="always";var f=document.createElement("param");f.name="allowfullscreen",f.value="true";var g=document.createElement("param");return g.name="wmode",g.value="opaque",c.appendChild(d),c.appendChild(e),c.appendChild(g),c.appendChild(f),c},getElm:function(){return this.renderer},play:function(a){var b=this;this.source=a;try{b.renderer.setSource(a.split("#")[0],!0)}catch(c){b.eventManager.fireEvent("error","Cannot call setSource method on flash control.")}},resume:function(a){"resumeClip"in this.renderer&&this.renderer.resumeClip()},pause:function(){"pauseClip"in this.renderer&&this.renderer.pauseClip()},stop:function(){"stopClip"in this.renderer&&this.renderer.stopClip()},setFullscreen:function(){},setVolume:function(a){"setVolume"in this.renderer&&this.renderer.setVolume(a)},seek:function(a,b){return"undefined"!=typeof b?void this.play(b):void("seek"in this.renderer&&this.renderer.seek(a))},getProperty:function(a){return"getProperty"in this.renderer?this.renderer.getProperty(a):void 0},getSource:function(){return this.source}},a.FlashRenderer=b}(atdsplayer),function(a){function b(b){this.renderer=this.create(b),this.options=b,this.type="HTML5",this.eventManager=new a.EventManager,this.registerEvents(),this.headerRequest=null,this.headerRequestTimeout=0}b.prototype={on:function(a,b){this.eventManager.on(a,b)},off:function(a,b){this.eventManager.off(a,b)},destroy:function(){this.headerRequest&&this.headerRequest.abort(),clearTimeout(this.headerRequestTimeout),this.renderer.destroy();try{this.renderer.player.parentNode.removeChild(this.renderer.player)}catch(a){}},registerEvents:function(){var a=this;this.renderer.on("ready",function(b){a.eventManager.fireEvent("ready",b)}),this.renderer.on("newMedia",function(b){a.eventManager.fireEvent("newMedia",b)}),this.renderer.on("waiting",function(b){a.eventManager.fireEvent("waiting",b)}),this.renderer.on("playing",function(b){a.eventManager.fireEvent("playing",b)}),this.renderer.on("pause",function(b){a.eventManager.fireEvent("pause",b)}),this.renderer.on("stopped",function(b){a.eventManager.fireEvent("stopped",b)}),this.renderer.on("ended",function(b){a.eventManager.fireEvent("ended",b)}),this.renderer.on("error",function(b){a.eventManager.fireEvent("error",b)}),this.renderer.on("seeking",function(b){a.eventManager.fireEvent("seeking",b)}),this.renderer.on("seeked",function(b){a.eventManager.fireEvent("seeked",b)})},getProperty:function(a){return"function"==typeof this.renderer.getProperty?this.renderer.getProperty(a):void 0},getElm:function(){return this.renderer.player},create:function(b){return new a.renderer.WebPlayer(b)},play:function(a){var b=this;if(this.renderer.setVolume(0),-1!==a.indexOf(".m3u8"))return void b.setSource(a);try{var c=new(window.XMLHttpRequest||ActiveXObject("MSXML2.XMLHTTP.3.0"));c.open("HEAD",a,!0),c.onload=function(){c.responseURL?b.setSource(c.responseURL):b.setSource(a)},c.onerror=function(){b.setSource(a)},c.send(null)}catch(d){b.setSource(a)}},setSource:function(a){this.renderer.setSource(a),this.renderer.load(),this.renderer.play()},pause:function(){this.renderer.pause()},resume:function(){this.renderer.play()},stop:function(){this.renderer.stop()},setVolume:function(a){this.renderer.setVolume(a/100)},setFullscreen:function(){},seek:function(a){this.renderer.seek(a)}},a.HTML5Renderer=b}(atdsplayer),function(a){function b(b,c){this.renderer=this.create(b,c),this.elm=this.renderer,this.options=b,this.eventManager=new a.EventManager,this.type="SILVERLIGHT",this.registerEvents(),this.startTime=0,this.DCS_EPOCH=9783072e5,this.currentTime=null,this.duration=null,this.rendererApi=null}a.PlayerEvent;b.prototype={registerEvents:function(){var a=this;window[this.options.name]={event:function(){switch(arguments[0]){case"time":a.currentTime=parseFloat(arguments[1]),a.duration=parseFloat(arguments[2]);break;default:a.eventManager.fireEvent.apply(null,arguments)}}},window[this.options.name+"_onError"]=function(){a.eventManager.fireEvent("error",arguments)}},destroy:function(){try{var a=document.getElementById(this.options.name);a.parentNode.removeChild(a)}catch(b){}this.currentTime=null,this.duration=null},on:function(a,b){this.eventManager.on(a,b)},off:function(a,b){this.eventManager.off(a,b)},create:function(a,b){var c=document.createElement("object");c.id=a.name,c.width=a.width,c.height=a.height;var d=document.createElement("param");d.name="source",d.value=b;var e=document.createElement("param");e.name="enableHtmlAccess",e.value="true";var f=document.createElement("param");f.name="windowless",f.value="true";var g=document.createElement("param");g.name="onerror",g.value=a.name+"_onError";var h=document.createElement("param");return h.name="initParams",h.value="bridgeNamespace="+a.name,a.drm&&a.drm.playready&&(h.value+=",licenseUrl="+a.drm.playready),a.aspect&&(h.value+=",aspect="+a.aspect),c.appendChild(d),c.appendChild(e),c.appendChild(f),c.appendChild(h),c.appendChild(g),c.data="data:application/x-silverlight-2,",c.type="application/x-silverlight-2",c},getElm:function(){return this.renderer},play:function(b){this.options.timeShift&&this.options.timeShift.start&&!this.options.timeShift.stop&&(b=b+"?startTime="+(1e3*a.util.core.parseDateTime(this.options.timeShift.start)-this.DCS_EPOCH));try{this.renderer.content.SL.setSource(b),this.eventManager.fireEvent("new"),this.renderer.content.SL.play()}catch(c){}},resume:function(a){this.renderer.content.SL.play()},pause:function(){this.renderer.content.SL.pause()},stop:function(){try{this.renderer.content.SL.stop()}catch(a){}},setFullscreen:function(){this.renderer.content.SL.setFullscreen()},setVolume:function(a){try{this.renderer.content.SL.setVolume(a/100)}catch(b){}},seek:function(a){this.renderer.content.SL.seek(a)},getProperty:function(a){switch(a){case"duration":return this.duration;case"currentTime":return this.currentTime;case"startTime":return this.renderer.content.SL.getProperty("startTime")}}},a.SilverlightRenderer=b}(atdsplayer),function(a){function b(b){function e(){if(Ia.length){var a=Ia.shift();a()}}function f(){Y=new a.util.ObserverManager,Y.subscribe(this),X=new a.ModuleManager(Ja,Ka)}function g(){P.modules&&X.initialize(P.modules),e()}function h(){P=_.extend(P,b),P.autoplayIfAdvert&&(P.autoplay=!0),ca.isSafari()&&!ca.isMobile.any()&&P.timeShift&&-1!==P.rendererPriority.indexOf("html5")&&(P.rendererPriority.splice(P.rendererPriority.indexOf("html5"),1),P.rendererPriority.push("html5")),ca.isOpera()&&(P.rendererPriority.splice(P.rendererPriority.indexOf("dash"),1),P.rendererPriority.push("dash")),!P.firefoxMseEnabled&&ca.isFirefox()&&P.rendererPriority.splice(P.rendererPriority.indexOf("dash"),1),Z=parseFloat(P.volume),R=_.extend(ca.getRendererUrls(a.version),P.renderer),P.skin&&("object"==typeof P.skin?(P.cssPrefix=P.skin.prefix,P.skinUrl=P.skin.url):("default"!==P.skin&&(P.cssPrefix=P.cssPrefix+"-"+P.skin),P.skin={name:P.skin,url:null,prefix:P.cssPrefix})),P.timeShift&&(Aa=new ja(P.timeShift,P.isLive)),P.name="player_renderer_"+_.generateRandomString(10),P.deviceControls=!1,Ba&&(P.autoplay=!0,P.controls=!1,P.autofocus=!1,P.deviceControls=!0),P.debug||ka.setLevel(ka.OFF),e()}function i(){oa=new a.PlaylistManager,(P.files||P.file)&&oa.fetch(P.file,P.files).done(function(){oa.list()&&(pa=oa.list()[0],
S=ca.getSupportedRendererList(pa.getSources(),P.rendererPriority),S.length&&!P.fallback&&(S=S.slice(0,1))),ma.fireEvent("playlist",oa.list()),Y.notify("playlist_loaded",oa.list()),e()}).fail(function(){e()})}function j(){P.advert?na.load(P.advert,P.advertWithCredentials).done(function(){e()}).fail(function(){ka.error("Ad config not loaded!"),e()}):e()}function k(){Q=_.getCssUrl(a.version,P.skin),P.skinUrl&&(Q=P.skinUrl),a.util.core.loadCss(Q).done(function(){Ea&&(Ea.updateLayout(),Ea.updateVolumeProgress(Z))}).fail(function(){Ea&&(Ea.updateLayout(),Ea.updateVolumeProgress(Z))}),e()}function l(){U.innerHTML="",V=da("div",P.cssPrefix+"-container"),W=da("div",P.cssPrefix+"-renderer-container"),ua=da("div",P.cssPrefix+"-ad-renderer-container"),U.className=qa,aa.addClass(U,P.cssPrefix),U.appendChild(V),V.appendChild(W),V.appendChild(ua),null!==Da&&(Da.removeEvents(),Da=null),Da=new a.Gui(V,W,ua,P,Ja),Ea=Da.getControls(),Ea.updateLayout(),Ea.updateVolumeProgress(Z),Ea.showPause(),Ea.hideBigPlay(),Y.notify(ga.GUI_READY,Da),e()}function m(){return F(),aa.removeClass(U,P.cssPrefix+"-ready"),S.length?(ya.update=v,sa=K(),pa.getDrm()&&(P.drm=pa.getDrm()),pa.getSubtitle()&&(P.subtitle=pa.getSubtitle()),ra=n(sa.name,P),P.timeShiftEnabled=Aa&&-1!==P.timeShiftRenderers.indexOf(ra.type.toLowerCase()),P.timeShiftEnabled?(Aa.setBaseUrl(sa.url),Fa=Aa.generateStartUrl(E().type)):Fa=sa.url,Y.notify(ia.OPEN,Fa,sa.name),"undefined"==typeof ra?void ma.fireEvent(ia.ERROR,{renderer:null,message:"Given media file is not supported by any renderer."}):(ma.fireEvent(ia.FALLBACK,ra.type),Da.reset(),Da.setRenderer(ra.getElm()),ra.getElm()&&W.appendChild(ra.getElm()),L(Fa)?Ea.setLiveView():Ea.setMainView(),Ea.updateLayout(),P.autoplay?Ea.hideBigPlay():(Da.hideSpinner(),Da.showSplashscreen(),Ea.showBigPlay()),u(),r(),void("undefined"!=typeof P.gstream&&new a.manager.GstreamManager(Ka,P.name,P.gstream,Fa)))):void setTimeout(function(){Ea.off(),Da.off(),ma.fireEvent(ia.ERROR,{renderer:null,message:"Supported Renderer List Empty"}),Ea.on(fa.STOP_BUTTON_CLICKED,function a(){Ea.off(fa.STOP_BUTTON_CLICKED,a),Ea.on(fa.STOP_BUTTON_CLICKED,y),h(),m()})},10)}function n(b,c){switch(b){case ea.FLASH:return new a.FlashRenderer(c,R.flash);case ea.HTML5:return new a.HTML5Renderer(c);case ea.SILVERLIGHT:return new a.SilverlightRenderer(c,R.silverlight);case ea.DASH:return new a.DashRenderer(c);case ea.AUDIO:return new a.AudioRenderer(c)}}function o(){if(G(),ta=n(T[0].name,P),Ga=T[0].url,p(),ma.fireEvent(ia.AD_START,Ga),va&&va.clickThrough){var a=document.createElement("a");a.setAttribute("target","_blank"),a.setAttribute("href",va.clickThrough),a.setAttribute("class",P.cssPrefix+"-click-area"),a.appendChild(ta.getElm()),ua.appendChild(a)}else ua.appendChild(ta.getElm());return Da.reset(),Da.setRenderer(ta.getElm()),Da.showSpinner(),ta}function p(){ta.on("ready",function(){Da.toggleAdVideoOn(),Ea.setAdView(),Ea.updateLayout(),setTimeout(function(){ya.start(),ta.play(Ga,!0),ta.setVolume(Z)},100)}),ta.on("ended",function(){q()}),ta.on("playing",function(b){N(a.AdEvent.START),N(a.AdEvent.CREATIVE_VIEW),N(a.AdEvent.IMPRESSION),Y.notify(a.AdEvent.START),Da.hideSpinner(),Ea.showPause(),J(ha.PLAYING),Da.hideSplashscreen()}),ta.on("waiting",function(a){Da.showSpinner(),J(ha.BUFFERING),Da.hideSplashscreen()}),ta.on("pause",function(b){N(a.AdEvent.PAUSE),J(ha.PAUSED),Da.hideSpinner()}),ta.on("sourceError error fallback",function(b){ya.stop(),N(a.AdEvent.ERROR),T.length>1?(T.shift(),o()):q()})}function q(){ya.stop(),ma.fireEvent(ia.AD_END,Ga),N(a.AdEvent.COMPLETE),Y.notify(a.AdEvent.COMPLETE);var b=0;if(ra&&"function"==typeof ra.getProperty&&(b=parseFloat(ra.getProperty("currentTime"))),na.hasMoreAdsByType(va.type,b))t(va.type);else{var c=va.type;switch(va=null,G(),Da.setRenderer(ra.getElm()),Da.toggleMainVideoOn(),Ea.setMainView(),Ea.updateLayout(),c){case a.AdType.PREROLL:P.stopAfterAdvert?(Ea.showBigPlay(),Ea.showPlay(),Da.showSplashscreen()):w();break;case a.AdType.MIDROLL:ra.resume(),ya.start();break;case a.AdType.POSTROLL:s()}}}function r(){Da.on(a.GuiEvent.FULLSCREEN_CHANGE,function(){N(Da.isFullscreen()?a.AdEvent.FULLSCREEN:a.AdEvent.EXIT_FULLSCREEN)}),Da.on(a.GuiEvent.VIDEO_AD_CLICKED,function(){Ca||x(),N(a.AdEvent.CLICK_TRACKING)}),Da.on(a.GuiEvent.VIDEO_CLICKED,function(){ya.counter&&(Ca?w():x())}),Ea.off(),Ea.on(fa.PAUSE_BUTTON_CLICKED,x),Ea.on(fa.PLAY_BUTTON_CLICKED,w),Ea.on(fa.STOP_BUTTON_CLICKED,y),Ea.on(fa.FULLSCREEN_BUTTON_CLICKED,function(){Da.toggleFullscreen(),E().setFullscreen()}),Ea.on(ia.SEEK_START,function(a){Y.notify(ia.SEEK_START,a/100*ra.getProperty("duration"))}),Ea.on(fa.PROGRESS_POSITION_CHANGING,function(a){wa=!0}),Ea.on(fa.PROGRESS_POSITION_CHANGED,function(a){P.timeShiftEnabled?(Aa.isLiveMode()&&(Aa.switchLiveMode(!1),Ea.switchLiveMode(!1)),Ca&&(Ca=!1),Ea.showPause(),Ea.showProgressBarDrag(),ya.start(),ra.seek(a,Aa.generateUrlWithShift(a/100*Aa.getDuration()))):ra.seek(a)}),Ea.on(fa.LIVE_BUTTON_CLICKED,function(){Aa.isLiveMode()||(Ca&&(Ca=!1),Ea.showPause(),Ea.showProgressBarDrag(),ya.start(),Aa.switchLiveMode(!0),Da.showSpinner(),ra.play(Aa.generateUrlWithShift(0))),Ea.switchLiveMode(Aa.isLiveMode())}),Ea.on(fa.VOLUME_CHANGED,function(a){A(a)}),Ea.on(fa.BANDWIDTH_CHANGED,function(b){if(sa.type===a.MediaType.MP4){var b=Ea.getProfileByBandwidth(parseInt(b,10));Ea.changeProfile(b),ra.play(b.src)}else ra.switchProfile(b,!0)})}function s(){Ea.showPlay(),Ea.hideProgressBarDrag(),ya.stop(),Ea.resetVideoPosition(),J(ha.STOPPED),Da.showSplashscreen()}function t(b){switch(P.autoplay=!0,ya.stop(),b){case a.AdType.PREROLL:va=na.getNextPreroll();break;case a.AdType.MIDROLL:va=na.getNextMidroll(),ra.pause();break;case a.AdType.POSTROLL:va=na.getNextPostroll()}T=[],va&&(T=ca.getSupportedRendererList(va.files,P.rendererPriority)),T.length?(o(),Da.contentInfo.setInfo(P.advertLabel)):q()}function u(){clearTimeout(za),P.autoplay&&-1===za&&(za=setTimeout(function(){ma.fireEvent(ia.ERROR,{renderer:ra.type,message:"Renderer callback ready timeout."}),I()},5e3)),ra.off(),ra.on("ready",function(){clearTimeout(za),Da.showSpinner(),aa.addClass(U,P.cssPrefix+"-ready"),J(ha.READY),(P.autoplay||Ba)&&setTimeout(function(){return na.hasPrerolls()?void t(a.AdType.PREROLL):(Ea.showPlay(),P.autoplayIfAdvert?(Ea.showBigPlay(),void Da.showSplashscreen()):(ra.play(Fa,!0),Da.ready(),ya.start(),Ea.updateLayout(),Ca=!1,ra.setVolume(Z),void Ea.updateVolumeProgress(Z)))},100),ma.fireEvent(ia.READY)}),ra.on("newMedia",function(a){clearTimeout(za),P.timeShiftEnabled&&!Aa.gotHead?ma.fireEvent(ia.METADATA,a):(ma.fireEvent(ia.METADATA,a),Y.notify(ia.NEW_MEDIA,pa,Fa,a)),Ea.updateLayout()}),ra.on("playing",function(a){Da.hideSpinner(),Ea.showPause(),J(ha.PLAYING),Da.hideSplashscreen(),wa=!1,ma.fireEvent(ia.PLAYING,C(a)),Y.notify(ia.PLAYING,C(a))}),ra.on("waiting",function(a){Da.showSpinner(),J(ha.BUFFERING),Da.hideSplashscreen(),ma.fireEvent(ia.WAITING,C(a)),Y.notify(ia.WAITING,C(a))}),ra.on("pause",function(a){J(ha.PAUSED),M()||Da.hideSpinner(),ma.fireEvent(ia.PAUSED,C(a)),Y.notify(ia.PAUSED,C(a))}),ra.on("stopped",function(a){ma.fireEvent(ia.STOPPED,C(a)),Y.notify(ia.STOPPED,C(a)),ra.off(),s()}),ra.on("ended",function(b){ma.fireEvent(ia.ENDED,C(b)),Y.notify("ended",pa),ra.off(),na.hasPostrolls()?t(a.AdType.POSTROLL):s()}),ra.on("seeking",function(a){ma.fireEvent(ia.SEEK_START,C(a))}),ra.on("onLive",function(){P.timeShiftEnabled||Ea.setLiveView()}),ra.on("seeked",function(a){Da.hideSpinner(),wa=!1,ma.fireEvent(ia.SEEK_END,C(a))}),ra.on("profiles",function(a){Ea.addProfiles(a)}),ra.on("profile",function(a,b){Ea.changeProfile(a,b),ma.fireEvent(ia.PROFILE_CHANGED,a)}),ra.on("fallback",function(){ya.stop(),I()}),ra.on("drmKeyError",function(a){ma.fireEvent(ia.DRM_KEY_ERROR,a)}),ra.on("error",function(a){ya.stop(),ma.fireEvent(ia.ERROR,{renderer:ra.type,message:a}),Y.notify(ia.ERROR,{renderer:ra.type,message:a}),J(ha.ERROR),I()}),ra.on("webAudioApiNotSupported",function(a){ma.fireEvent("webAudioApiNotSupported",{renderer:ra.type,message:a})}),ra.on("buffered",function(a){ma.fireEvent("buffered",a)}),ra.on(ia.HEAD_TIME,function(a){P.timeShiftEnabled&&Aa.setHeadTime(parseInt(a))}),ra.on("sourceError",function(){ya.stop(),S.length?I():(Ea.showPlay(),Ea.hideProgressBarDrag(),ya.stop(),Ea.resetVideoPosition(),Da.hideSpinner(),J(ha.STOPPED),Da.showSplashscreen(),ma.fireEvent(ia.ERROR,{renderer:ra.type,message:"SOURCE_ERROR"}),Y.notify(ia.ERROR,{renderer:ra.type,message:"SOURCE_ERROR"}))})}function v(){var b=E();if("function"==typeof b.getProperty){var c=parseFloat(b.getProperty("currentTime")),d=parseFloat(b.getProperty("duration"));if(va&&(isNaN(va.duration)||(d=va.duration),c>0&&Da.contentInfo.show(),Da.contentInfo.updateTime(c,d)),!va&&P.timeShiftEnabled&&(c=Aa.updateCurrentTime(c),d=Aa.getDuration(d)),Ea.update(c,d),Y.notify(ia.TIME,c,d),va||ma.fireEvent(ia.TIME,c,d),ya.counter%4===0&&!wa)if(va){var e=c/d;e>.75?N(a.AdEvent.THIRD_QUARTILE):e>.5?N(a.AdEvent.MIDPOINT):e>.25&&N(a.AdEvent.FIRST_QUARTILE),c>=d&&q()}else na.hasMidrollsAtTime(c)&&t(a.AdType.MIDROLL)}}function w(b){if("undefined"!=typeof b)return c(U),S=[],P.files=null,P.file=b,P.autoplay=!0,Ia=Ha.slice(),e(),this;if(Ca)E().resume(),N(a.AdEvent.RESUME);else{if(na.hasPrerolls())return Da.hideSplashscreen(),Ea.hideBigPlay(),Ea.showPause(),void t(a.AdType.PREROLL);u(),!P.timeShiftEnabled||P.timeShift.start&&P.timeShift.stop?ra.play(Fa,!0):(Aa.switchLiveMode(!0),Ea.switchLiveMode(!0),ra.play(Aa.generateUrlWithShift(0),!0)),ra.setVolume(Z)}return Da.hideSplashscreen(),Ea.hideBigPlay(),Ea.showPause(),Ea.showProgressBarDrag(),ya.start(),Ca=!1,this}function x(){return sa.name===ea.AUDIO?void y():(E().pause(),Ea.showPlay(),Ca=!0,ya.stop(),P.timeShiftEnabled&&Aa.isLiveMode()&&(Aa.switchLiveMode(!1),Ea.switchLiveMode(!1)),this)}function y(){return Ca=!1,E().stop(),Ea.showPlay(),Ea.hideProgressBarDrag(),ya.stop(),this}function z(a,b){return Da&&Da.resize(a,b),this}function A(b){var c=parseFloat(b);return 0===Z&&0!==c?(N(a.AdEvent.UNMUTE),ma.fireEvent(ia.UNMUTE)):0!==Z&&0===c&&(N(a.AdEvent.MUTE),ma.fireEvent(ia.MUTE)),Z=P.volume=c,Ea&&Ea.updateVolumeProgress(Z),E().setVolume(Z),this}function B(){return Z}function C(a){return P.timeShiftEnabled?Aa.getCurrentTime():isNaN(a)?0:parseFloat(a)}function D(a,b){switch(a){case"switch":O(b)}}function E(){return va&&ta?ta:!va&&ra?ra:{setVolume:a.util.core.dumpFunc,play:a.util.core.dumpFunc,pause:a.util.core.dumpFunc,stop:a.util.core.dumpFunc}}function F(){G(),H();for(var a=U.getElementsByTagName("video"),b=0;b<a.length;++b)a[b].src="",a[b].load(),a[b].parentNode.removeChild(a[b])}function G(){if(ta){for(ta.off(),ta.destroy();ua.firstChild;)ua.removeChild(ua.firstChild);ta=null}}function H(){if(clearTimeout(za),za=-1,ra){for(ra.off(),ra.destroy();W.firstChild;)W.removeChild(W.firstChild);ra=null}}function I(){S.length&&(P.autoplay=!0,m())}function J(a){xa=a,Ea.setPlaybackState(xa)}function K(){return S.length?S.shift():null}function L(a){return P.timeShiftEnabled?(Ea.setTimeShift(Aa),!1):(Ea.setTimeShift(null),-1!==a.indexOf(".livx"))}function M(){return null!=va}function N(a){va&&va.trackEvent(a)}function O(a){Da.hideSplashscreen(),P.autoplay=!0,pa=oa.getById(a.getId()),S=ca.getSupportedRendererList(pa.getSources(),P.rendererPriority),S.length&&!P.fallback&&(S=S.slice(0,1)),Ia=[j,m],e()}var P,Q,R,S,T,U,V,W,X,Y,Z,$,_=a.util.core,aa=a.util.dom,ba=a.util.polyfill,ca=a.util.renderer,da=aa.createElm,ea=a.PlayerRenderer,fa=a.ControlEvent,ga=a.GuiEvent,ha=a.PlaybackState,ia=a.PlayerEvent,ja=a.TimeShift,ka=a.util.Logger,la={debug:!1,autofocus:!0,holder:null,cssPrefix:"atdsplayer",width:600,height:400,abr:!0,controls:!0,reconnect:!1,bufferTime:2,fullscreen:!0,stopAfterAdvert:!1,autoplayIfAdvert:!1,smoothing:!0,modules:[],renderer:{},rendererPriority:["dash","html5","silverlight","flash","audio"],timeShiftRenderers:["dash","silverlight","flash"],timeShiftEnabled:!1,volume:60,volumeType:"vertical",hideControls:!0,autoplay:!0,aspect:16/9,url:null,file:null,files:null,urls:null,advert:null,advertLabel:"REKLAMA:",advertWithCredentials:null,type:"video",timeShift:null,fallback:!0,skin:{name:"default",prefix:"atdsplayer",url:null}},ma=new a.EventManager,na=new a.AdvertManager,oa=null,pa=null,qa="",ra=null,sa=null,ta=null,ua=null,va=null,wa=!1,xa=ha.UNKNOWN,ya=new a.Timer,za=-1,Aa=null,Ba=ca.isMobile.any(),Ca=!1,Da=null,Ea=null,Fa=null,Ga=null,Ha=[h,g,k,l,i,j,m],Ia=Ha.slice();if(P=_.extend(la,b),U=document.getElementById(P.holder),!U)throw"There is no html element which id attribute is equal to "+P.holder;d(U),qa=U.className,ba.all();var Ja={getObserver:function(){return Y},subscribe:function(a){Y.subscribe(a)},unSubscribe:function(a){Y.unSubscribe(a)},switchMedia:function(a){O(a)},getOptions:function(){return P},getTimeShift:function(){return Aa},getGui:function(){return Da},play:function(){w()}},Ka={notify:D,initialize:f,on:ma.on,off:ma.off,"switch":function(a){O(a)},getHolder:function(){return U},showReportModal:function(){$.showReportModal()},destroy:function(){var a=E(),b=0;"function"==typeof a.getProperty&&(b=parseFloat(a.getProperty("currentTime"))),Y.notify(ia.DESTROY,b),clearTimeout(za),X&&X.destroy();try{F(),Y.unSubscribe(this)}catch(c){}try{Da.removeEvents()}catch(c){}},setup:function(a){return Ia=Ha.slice(),P=_.extend(P,a),"100%"===P.width&&(U.style.width="100%"),"100%"===P.height&&(U.style.height="100%"),e(),this},getOptions:function(){return P},isPlayingAd:M,resize:z,play:w,stop:y,pause:x,seek:function(a){return E().seek(a),this},setVolume:A,getVolume:B,getRenderer:function(){return ra},getSource:function(){return ra.getSource()},getElm:function(){return ra.getElm()},getProperty:function(a){return ra.getProperty(a)},getHeadTime:function(){return Aa?Aa.getHeadTime():null}};return Ka}function c(a){if(e.length)for(var b=0;b<e.length;b++)e[b].getHolder().getAttribute("id")===a.getAttribute("id")&&(e[b].destroy(),e[b].getHolder().innerHTML="")}function d(a){var b=[];if(e.length){for(var c=0;c<e.length;c++)e[c].getHolder().getAttribute("id")===a.getAttribute("id")&&(e[c].destroy(),e[c].getHolder().innerHTML="",b.push(c));for(;b.length;)e.splice(b.pop(),1)}}var e=[];a.version="0.6.4",window.redcdnplayer=function(a){if(!a)throw"There is no argument passed to redcdnplayer function!";var c=new b({holder:a});return e.push(c),c.initialize(),c},a.getPlayers=function(){return e},a.destroyAll=function(){for(var a=0;a<e.length;a++){var b=e[a];b.destroy()}e=[]},window.redcdnplayer.VERSION=a.version}(atdsplayer),function(a){function b(b){this.options=b,this.player=document.createElement("video"),this.player.setAttribute("width",b.width),this.player.setAttribute("height",b.height),this.player.setAttribute("id",b.name),this.eventManager=new a.EventManager;for(var c in this.$eventsToRegister)this.$eventsToRegister.hasOwnProperty(c)&&(this.$registeredEvents[c]=this.$eventsToRegister[c].bind(this));this.registerEvents()}a.renderer=a.renderer||{},b.prototype={$readyTim:0,$hasRegisteredEvent:!1,$registeredEvents:{},$eventsToRegister:{loadedmetadata:function(){this.player.removeEventListener("loadedmetadata",this.$eventsToRegister.loadedmetadata),this.eventManager.fireEvent("newMedia",this.player.duration)},waiting:function(){this.eventManager.fireEvent("waiting",this.player.currentTime)},pause:function(){this.player.duration===this.player.currentTime||this.player.ended||this.eventManager.fireEvent("pause",this.player.currentTime)},ended:function(){this.eventManager.fireEvent("ended",this.player.currentTime)},playing:function(){this.eventManager.fireEvent("playing",this.player.currentTime)},seeking:function(){this.eventManager.fireEvent("seeking",this.player.currentTime)},seeked:function(){this.eventManager.fireEvent("seeked",this.player.currentTime)},error:function(){this.eventManager.fireEvent("error",this.player.currentTime)}},on:function(a,b){this.eventManager.on(a,b)},off:function(a,b){this.eventManager.off(a,b)},destroy:function(){this.unRegisterEvents(),this.player.src="",this.player.load()},setSource:function(a){this.player.src=a,this.options.deviceControls&&this.player.setAttribute("controls","controls")},load:function(){this.player.load()},play:function(){this.player.play()},pause:function(){this.player.pause()},resume:function(){this.player.play()},stop:function(){this.eventManager.fireEvent("stopped",this.player.currentTime),this.player.pause(),this.player.load()},setVolume:function(a){try{this.player.volume=a}catch(b){}},seek:function(a){try{this.player.currentTime=this.player.duration/100*a}catch(b){}},getProperty:function(a){return a in this.player?this.player[a]:void 0},registerEvents:function(){if(!this.$hasRegisteredEvent){this.$hasRegisteredEvent=!0;for(var a in this.$eventsToRegister)this.$eventsToRegister.hasOwnProperty(a)&&this.player.addEventListener(a,this.$registeredEvents[a]);this.$readyTim=setTimeout(function(){this.eventManager.fireEvent("ready")}.bind(this),200)}},unRegisterEvents:function(){if(this.$hasRegisteredEvent){clearTimeout(this.$readyTim),this.$hasRegisteredEvent=!1;for(var a in this.$registeredEvents)this.$registeredEvents.hasOwnProperty(a)&&this.player.removeEventListener(a,this.$registeredEvents[a])}}},a.renderer.WebPlayer=b}(atdsplayer),function(a){function b(b,d){function e(a){m=[],l=a}function f(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].bandwidth);return b}function g(a){if(!(p.length<2)){m.push(a),m.length>10&&m.shift();var b=i(),e=!1,f=l.bandwidth;if(b>=0&&(f=h(b),f!==l.bandwidth)){var g=+new Date;g-o>c&&(!d&&f>l.bandwidth&&b-b/100*50>f&&(e=!0),n.fireEvent("switchBandwidth",f,e,a.bufferLength),m=[],o=+new Date)}}}function h(a){var b=p[p.length-1];a-=a/100*5;for(var c=0;c<p.length;c++)a>p[c]&&p[c]>b&&(b=p[c]);return b}function i(){var a=0,b=3;if(m.length<=b)return-1;for(var c=0;b>c;c++)a+=m[c].bps;return parseInt(a/b)}function j(){}function k(a){}var l=null,m=[],n=new a.EventManager,o=+new Date,p=f(b);return{on:n.on,update:g,reset:j,setRepresentation:e,updateStreamInfo:k}}var c=5e3;a.AbrManager=b}(atdsplayer),function(a){function b(b){var f,g,h={holder:null,video:null,width:600,height:400,laUrl:null,autoplay:!1,controls:!1,abr:!0},i=c(h,b),j=i.video,k=i.abr,l=-1,m=!1,n=null,o=null,p=null,q=null,r=null,s=(i.timeShift,null),t=null,u=null,v=null,w=new a.ManifestParser,x=null,y=null,z=null,A=0,B=0,C=!1,D=0,E=!1,F=a.PlayerEvent,G=new a.EventManager,H=0,I=null,J=function(a,b){b&&(I=null),null===I&&(I=a),U(),H=0,p=a,G.fireEvent("waiting",0),f=d(p,i).done(function(a,b){L(w.parse(a,p,b)),G.fireEvent(F.HEAD_TIME,b)}).fail(function(a){a||(G.fireEvent("report",{error:"MANIFEST_ERROR",renderer:"DASH",url:I,reaction:"RECONNECT"}),i.timeShift,R())})},K=function(b){var c,e,f,h,k,l,m=n.minimumUpdatePeriod||6;A=setTimeout(function(){return e=j.currentTime-60,f=u.segmentList[u.segmentList.length-1].startTime,h=j.currentTime*u.segmentTemplate.timescale,k=parseInt((f-h)/u.segmentTemplate.timescale),m=n.minimumUpdatePeriod||6,!j.paused&&H>0&&H===j.currentTime?void R():(H=j.currentTime,void(6>k?(l=p,i.timeShift&&(l=p.split("?")[0]+"?startTime="+f),i.timeShift&&i.timeShift.stop&&(l+="&"+a.TimeShift.convertDateTimeToDcsTime(i.timeShift.stop)),g=d(l,i).done(function(a,b){c=w.parse(a,p,b),n=w.updateManifest(n,c,e),G.fireEvent(F.HEAD_TIME,b);try{q.clearBuffer(0,e),r.clearBuffer(0,e)}catch(d){}K()}).fail(function(){G.fireEvent("report",{error:"MANIFEST_ERROR",renderer:"DASH",url:I,reaction:"RECONNECT"}),i.timeShift?R(3e3):R()})):K()))},2e3)},L=function(a){return null===a?(U(),G.fireEvent("ended",j.currentTime),void G.fireEvent("dashManifestError")):(n=a,l=n.duration,u=n.getAdaptationSetByType(e.VIDEO),v=n.getAdaptationSetByType(e.AUDIO),s=n.getAverageBandwidthRepresentation(e.VIDEO),t=n.getAverageBandwidthRepresentation(e.AUDIO),G.fireEvent("profiles",n.getRepresentationsByType("video")),G.fireEvent("profile",s,k),"dynamic"===n.type&&(K(n.minimumUpdatePeriod?1e3*n.minimumUpdatePeriod:4e3),G.fireEvent("onLive")),void M())},M=function(b){if(p&&(E=!0),clearTimeout(B),null===u)return void R(5e3);var c=window.MediaSource.isTypeSupported(u.mimeType+";codecs="+u.codecs);return C=!1,c?"undefined"!=typeof b?void J(b):(ia(),o=new window.MediaSource,o.addEventListener("sourceopen",Q),o.addEventListener("sourceended",P),j.src=URL.createObjectURL(o),y=new a.AbrManager(n.getRepresentationsByType("video"),"dynamic"===n.type),y.setRepresentation(s),y.on("switchBandwidth",function(a,b,c){setTimeout(function(){k&&V(a,b)},0)}),null!==x&&x.destroy(),(u.contentProtections.length||v.contentProtections.length)&&(x=new a.DrmManager(j,u,i.drm),x.on("drmKeyError",function(a){G.fireEvent("drmKeyError",a)})),void j.play()):(U(),void G.fireEvent("fallback"))},N=function(){},O=function(){},P=function(){},Q=function(){return null!==q&&null!==r?(q.sourceOpen(),void r.sourceOpen()):(i.timeShift?o.duration=Number.MAX_VALUE:o.duration=l,q=new a.StreamManager(j,u,o,"dynamic"===n.type),q.setRepresentation(s),q.start(),q.on("bufferCompleted",function(){S()}),j.readyState&&("dynamic"===n.type?da():0!==u.segmentList[0].startTime&&(j.currentTime=u.segmentList[0].startTime/u.segmentTemplate.timescale)),q.on("attemptsExceeded",function(){C||(G.fireEvent("videoDashAttemptsExceeded"),clearTimeout(A),U(),"dynamic"===n.type?R():(T("ended"),G.fireEvent("ended",j.currentTime)))}),q.on("segmentProgress",function(a){null!==y&&y.update(a)}),r=new a.StreamManager(j,v,o,"dynamic"===n.type),r.setRepresentation(t),r.start(),r.on("attemptsExceeded",function(){C||(G.fireEvent("audioDashAttemptsExceeded"),clearTimeout(A),U(),"dynamic"===n.type?R():(T("ended"),G.fireEvent("ended",j.currentTime)))}),void r.on("bufferCompleted",function(){S()}))},R=function(a,b){a=a||2e3,C=!0,i.autoplay=!0,clearTimeout(B),G.fireEvent("waiting",j.currentTime),B=setTimeout(function(){J(I)},2e3)},S=function(){q.isBufferCompleted()&&r.isBufferCompleted()&&"open"===o.readyState&&o.endOfStream()},T=function(a){z=a,null!==q&&q.setPlaybackStatus(a),null!==r&&r.setPlaybackStatus(a)},U=function(){f&&"pending"===f.status&&(f.abort(),f.reject("destroy")),g&&"pending"===g.status&&g.abort(),null!==o&&(o.removeEventListener("sourceopen",Q),o.removeEventListener("sourceended",P)),null!==q&&(q.stop(),q=null),null!==r&&(r.stop(),r=null),clearTimeout(A),clearTimeout(B),o=null,ha(),j.load()},V=function(a,b){var c=n.getRepresentationByBandwidth(parseInt(a),e.VIDEO);q.switchRepresentation(c,b),y.setRepresentation(c),G.fireEvent("profile",c,k)},W=function(a,b){"auto"===a?k=!0:(k=!1,V(a,b))},X=function(){k&&y.updateStreamInfo(j)},Y=function(){T("seeking"),G.fireEvent("seeking",j.currentTime)},Z=function(){T("seeked"),G.fireEvent("seeked",j.currentTime)},$=function(){T("playing"),G.fireEvent("playing",j.currentTime)},_=function(){T("ended"),G.fireEvent("ended",j.currentTime),clearTimeout(A),U()},aa=function(){T("waiting"),G.fireEvent("waiting",j.currentTime)},ba=function(){T("pause"),G.fireEvent("pause",j.currentTime)},ca=function(a){("dynamic"===n.type||i.timeShift)&&da(),G.fireEvent("newMedia","dynamic"===n.type?-1:l),G.fireEvent("metadata")},da=function(){var a,b,c=u.segmentList[0].startTime/u.segmentTemplate.timescale;if(c>0&&!j.currentTime){a=u.segmentList[0],b=v.segmentList[0],u.segmentList.length>3&&(a=u.segmentList[u.segmentList.length-4]),v.segmentList.length>3&&(b=v.segmentList[v.segmentList.length-4]),E&&(a=u.segmentList[0],b=v.segmentList[0]);var d=a.startTime/u.segmentTemplate.timescale;a.startTime<b.startTime&&(d=b.startTime/v.segmentTemplate.timescale),j.currentTime=d,D=d}},ea=function(){G.fireEvent("stalled"),T("stalled")},fa=function(){T("error"),G.fireEvent("error"),N()},ga=function(){},ha=function(){var a=function(a,b){j.removeEventListener(a,b)};a("timeupdate",X),a("progress",X),a("seeking",Y),a("playing",$),a("ended",_),a("waiting",aa),a("pause",ba),a("seeked",Z),a("loadedmetadata",ca),a("stalled",ea),a("error",fa),a("emptied",ga),a("canplay",O)},ia=function(){var a=function(a,b){j.addEventListener(a,b)};a("timeupdate",X),a("progress",X),a("seeking",Y),a("playing",$),a("ended",_),a("waiting",aa),a("pause",ba),a("seeked",Z),a("suspend",function(){console.log("suspend")}),a("loadedmetadata",ca),a("stalled",ea),a("error",fa),a("canplay",O)},ja=function(a){var b=document.createElement("video");return b.setAttribute("width",a.width),b.setAttribute("height",a.height),b.setAttribute("id",a.name),a.autoplay&&b.setAttribute("autoplay","autoplay"),a.deviceControls&&b.setAttribute("controls","controls"),b};return null===i.video&&(j=ja(i)),{on:G.on,off:G.off,destroy:U,setSource:J,switchBandwidth:V,switchProfile:W,getVideo:function(){return j},seek:function(b,c){var d;if("undefined"==typeof c)try{d=q.findSegmentByPosition(l/100*b*u.segmentTemplate.timescale).startTime,j.currentTime=d/u.segmentTemplate.timescale,q.update(),r.update()}catch(e){}else if(i.timeShift&&i.timeShift.start&&i.timeShift.stop){var f=(a.TimeShift.convertDateTimeToDcsTime(i.timeShift.stop)-a.TimeShift.convertDateTimeToDcsTime(i.timeShift.start))/1e3,g=a.TimeShift.convertDateTimeToDcsTime(i.timeShift.start)+f*b*u.segmentTemplate.timescale,h=q.findSegmentByPosition(g);h?(d=h.startTime,j.currentTime=d/u.segmentTemplate.timescale,q.update(),r.update()):J(c)}else J(c)},setVolume:function(a){j.volume=a},getProperty:function(a){return"startTime"===a?1e3*D:"currentTime"===a&&a in j?j[a]:a in j?j[a]:void 0},pause:function(){j.pause()},stop:function(){m=!0,G.fireEvent("stopped",j.currentTime),U()},resume:function(){j.play()},play:function(){j.play()}}}function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(b,c){function d(){i||(e=new XMLHttpRequest,e.open("GET",b,!0),e.responseType="text",e.timeout=1e4,c.withCredentials&&(e.withCredentials=!0),e.send(),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status){if(f=e.getAllResponseHeaders(),-1!==f.indexOf("redCDN-Now"))try{j=e.getResponseHeader("redCDN-Now")/1e3}catch(a){}var b=e.responseText;g.resolve(b,j)}else h>3?g.reject():d()},e.onerror=function(){h>3?g.reject():d()},h++)}var e,f,g=new a.Promise,h=0,i=!1,j=0;return g.abort=function(){i=!0,e.abort()},d(),g}var e={VIDEO:"video",AUDIO:"audio"};a.Player=b}(atdsplayer),function(a){function b(c,d,e){function f(){return new Promise(function(a,b){q=p.pop(),q&&q.drmSystem?navigator.requestMediaKeySystemAccess(q.drmSystem,o).then(function(a){return a.createMediaKeys()}).then(function(a){return c.setMediaKeys(a)}).then(function(){a()})["catch"](function(a){return f()}):(n.fireEvent("drmKeyError","Failed to set up MediaKeys"),b())})}function g(a){m.then(function(){if(!s&&c.mediaKeys&&q){if(r=i(),!r)return void n.fireEvent("drmKeyError","Failed to match drm system to drm server url");j(c.mediaKeys,q),s=c.mediaKeys.createSession(),s.addEventListener("message",h,!1),s.generateRequest(a.initDataType,a.initData)["catch"](function(a){n.fireEvent("drmKeyError","Failed to generate a license request")})}})}function h(a){var b=new XMLHttpRequest;b.open("POST",r,!0),b.responseType="arraybuffer",b.onload=function(){if(200===b.status){var a=b.response;s.update(a)["catch"](function(a){n.fireEvent("drmKeyError","Failed to update the session")})}else b.onerror()},b.onerror=function(){n.fireEvent("drmKeyError","Failed to load key from license server")},b.send(a.message)}function i(){if("string"==typeof e)return e;for(var a in e)if(e.hasOwnProperty(a)&&-1!==q.drmSystem.indexOf(a))return e[a];return""}function j(a,c){b.drmItems||(b.drmItems=[]),k(a)||b.drmItems.push([a,c])}function k(a){for(var c=b.drmItems||[],d=0;d<c.length;++d)if(c[d][0]===a)return c[d][1];return null}function l(){n=null,c.removeEventListener("encrypted",g,!1)}var m,n=new a.EventManager,o=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:d.mimeType+'; codecs="'+d.codecs+'"'}]}],p=d.contentProtections.slice(),q=null,r="",s=null;return c.mediaKeys?k(c.mediaKeys):m=f(),c.addEventListener("encrypted",g,!1),{on:n.on,off:n.off,destroy:l}}function c(){this.sessionId=null,this.initData=null,this.initDataKey=null,this.license=null,this.pssh=null,this.session=null,this.drmSystem=null,this.promise=null}function d(b,d,h){var i=[],j=[],k=null,l=null,m="undefined"!=typeof d?d:null,n=new a.EventManager,o=function(a){m=a},p=function(){for(var a=0;a<f.length;a++){var c=f[a];if(!("undefined"!=typeof c.generateKeyRequest&&"function"!=typeof b[c.generateKeyRequest]||"undefined"!=typeof c.setMediaKeys&&"function"!=typeof b[c.setMediaKeys]))return c}return null},q=function(f){var h=new Uint8Array(f.initData),k=A(),m=new c,n=null,o=null;switch(m.initData=h,m.initDataKey=Array.prototype.join.apply(m.initData),m.drmSystem=k,m.pssh=e(h.buffer),m.promise=new a.Promise,n=y(j,m.pssh.keyId),j.push(m),k){case g.PLAY_READY:var p=null,q=new window[l.MediaKeys](k);b[l.setMediaKeys](q),p=q.createSession(d.mimeType+";codecs="+d.codecs,f.initData),p.addEventListener(l.message,r),p.addEventListener(l.error,v),p.addEventListener(l.ready,w),p.addEventListener(l.close,x);break;case g.WIDEVINE:if(null!==n&&null!==n.promise&&"pending"===n.promise.status)return;if(o=y(i,m.pssh.keyId),null!==o)return;b[l.generateKeyRequest](k,h)}},r=function(a){var b,c=j.shift(),d=a.message,e=c.drmSystem,f={};if(c.sessionId=a.sessionId,c.messageKey=Array.prototype.join.apply(d),e===g.WIDEVINE&&(b=h.widevine),e===g.PLAY_READY){var l=new Uint16Array(d.buffer),m=String.fromCharCode.apply(null,l),o=new DOMParser,p=o.parseFromString(m,"application/xml"),q=[],r=[];h.playready&&(b=h.playready),null===a.destinationURL||h.playready||(b=a.destinationURL),p.getElementsByTagName("Challenge")[0]&&(d=p.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue,d&&(d=atob(d))),q=p.getElementsByTagName("name"),r=p.getElementsByTagName("value");for(var t=0;t<q.length;t++)f[q[t].childNodes[0].nodeValue]=r[t].childNodes[0].nodeValue}k=z(b,d,f).done(function(b){c.session=a.target,c.license=b,s(c),i.push(c),c.promise.resolve(c)}).fail(function(){n.fireEvent("licenseError"),c.promise.reject()})},s=function(a){a.drmSystem===g.WIDEVINE?b[l.addKey](a.drmSystem,a.license,a.initData,a.sessionId):(a.session.update(a.license),a.session.removeEventListener(l.message,r),a.session.removeEventListener(l.error,v),a.session.removeEventListener(l.ready,w),a.session.removeEventListener(l.close,x))},t=function(){n.fireEvent("keyAdded")},u=function(a){n.fireEvent("drmKeyError",a),console.log("drmKeyError",a)},v=function(){console.log("session error")},w=function(){console.log("session ready")},x=function(){console.log("session close")},y=function(a,b){for(var c=0;c<a.length;c++)if(a[c].pssh.keyId===b)return a[c];return null},z=function(b,c,d){var e=new a.Promise,f=new XMLHttpRequest,g=!0;if(e.abort=function(){g=!0,f.abort()},f.open("POST",b,!0),f.responseType="arraybuffer",f.onload=function(){200===f.status?e.resolve(new Uint8Array(f.response)):g||e.reject()},"undefined"!=typeof d)for(var h in d)d.hasOwnProperty(h)&&f.setRequestHeader(h,d[h]);return f.send(c),f.onerror=function(){g||e.reject()},e},A=function(){for(var a=0;a<m.contentProtections.length;a++){var c=m.contentProtections[a].drmSystem;if("undefined"!=typeof c&&""!==b.canPlayType(m.mimeType,c))return c}return null},B=function(){b.addEventListener(l.needkey,q),b.addEventListener(l.keymessage,r),b.addEventListener(l.keyadded,t),b.addEventListener(l.keyerror,u)},C=function(){b.removeEventListener(l.needkey,q),b.removeEventListener(l.keymessage,r),b.removeEventListener(l.keyadded,t),b.removeEventListener(l.keyerror,u)},D=function(){null!==k&&k.abort(),i=[],j=[],C()};return l=p(),null===l?n.fireEvent("apiError"):B(),{on:n.on,setAdaptation:o,destroy:D}}function e(a){var b={},c=new DataView(a,0),d=0,e=0,f=0,g=0,h="",i=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1==d.length&&(d="0"+d),b+=d}return b};return e=c.getUint32(d),d+=4,f=c.getUint32(d),d+=4,g=c.getUint8(d),d+=1,d+=3,0!==g&&(d=28),h=i(new Uint8Array(a,d,16)),0===g&&(b.keyId=i(new Uint8Array(a,36,16))),b.systemId=h,b.version=g,b.size=e,b}var f=[{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",added:"mskeyadded",
close:"mskeyclose"},{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",added:"keyadded",close:"keyclose"}],g={PLAY_READY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"};a.DrmManager="function"==typeof navigator.requestMediaKeySystemAccess&&-1===navigator.userAgent.indexOf("Edge")?b:d}(atdsplayer),function(a){function b(){}function c(a){for(var b=null,c=0;c<a.periods[0].adaptationSets.length;c++)-1!==a.periods[0].adaptationSets[c].mimeType.indexOf("video")&&(b=a.periods[0].adaptationSets[c].segmentsDuration);a.duration=b}function d(){this.duration=null,this.maxSegmentDuration=0,this.minBufferTime=2,this.periods=[],this.baseUrl=null,this.type=null,this.minimumUpdatePeriod=null,this.publishTime=null,this.startTime=0,this.availabilityStartTime=null,this.timeShiftBufferDepth=null,this.suggestedPresentationDelay=null}function e(){this.segmentList=null,this.adaptationSets=[],this.timeline=null,this.baseUrl=null}function f(){this.baseUrl=null,this.duration=0,this.segmentTemplate=null,this.codecs=null,this.mimeType=null,this.segmentList=null,this.representations=[],this.contentProtections=[]}function g(){this.pssh=null,this.value=null,this.schemeIdUri=null,this.drmSystem=null,this.cencPssh=null}function h(){this.id=null,this.codecs=null,this.bandwidth=null,this.width=null,this.height=null}function i(){this.timescale=1,this.presentationTimeOffset=0,this.segmentDuration=null,this.initialization=null,this.media=null,this.startNumber=0,this.timeline=null}function j(){this.timePoints=[]}function k(){this.startTime=null,this.duration=null,this.index=null,this.downloadAttempts=0}function l(){this.index=null,this.startTime=null,this.duration=null,this.repeat=null}function m(a,b){for(var c=[],d=0;d<a.childNodes.length;d++)a.childNodes[d].tagName==b&&c.push(a.childNodes[d]);return c}function n(a,b){var c=m(a,b);return c.length?c[0]:null}b.prototype={updateManifest:function(a,b,c){for(var d,e,f,g,h=[],i=0,j=0;j<b.periods[0].adaptationSets.length;j++)d=a.periods[0].adaptationSets[j].segmentTemplate.timeline.timePoints,e=b.periods[0].adaptationSets[j].segmentTemplate.timeline.timePoints,f=a.periods[0].adaptationSets[j].segmentList,g=b.periods[0].adaptationSets[j].segmentList,a.baseUrl=b.baseUrl,a.periods[0].adaptationSets[j].baseUrl=b.baseUrl,h=this.mergeSegmentList(f,g,c*a.periods[0].adaptationSets[j].segmentTemplate.timescale),a.periods[0].adaptationSets[j].segmentList=h;return a.duration=i,a},mergeSegmentList:function(a,b,c){for(var d=[],e=a.concat(b),f=0;f<e.length;f++)e[f].startTime>c&&d.push(e[f]);return d},isUrlIsAbsolute:function(a){return"http"===a.slice(0,4)||"//"===a.slice(0,2)},parse:function(a,b,g){var k=new d,l=new DOMParser,o=l.parseFromString(a,"text/xml"),q=n(o,"MPD");if(null===q)return null;if(k.type=q.getAttribute("type"),k.duration=p(q.getAttribute("mediaPresentationDuration")),k.maxSegmentDuration=p(q.getAttribute("maxSegmentDuration")),k.minBufferTime=p(q.getAttribute("minBufferTime")),k.minimumUpdatePeriod=p(q.getAttribute("minimumUpdatePeriod")),k.suggestedPresentationDelay=p(q.getAttribute("suggestedPresentationDelay")),k.periods=[],k.headTime=g,this.url=b,k.baseUrl=b.slice(0,b.lastIndexOf("/")+1),null!==n(q,"BaseURL")){var r=n(q,"BaseURL").childNodes[0].nodeValue;this.isUrlIsAbsolute(r)?k.baseUrl=r:k.baseUrl=[this.url.slice(0,this.url.lastIndexOf("/")+1),r].join("/")}null===k.duration&&(k.duration=Number.MAX_VALUE),k.startTime=0,k.publishTime=q.getAttribute("publishTime");for(var s=m(q,"Period"),t=0;t<s.length;t++){var u=s[t],v=new e,w=m(u,"AdaptationSet");if(null!==n(u,"BaseURL")){var r=n(u,"BaseURL").childNodes[0].nodeValue;this.isUrlIsAbsolute(r)?k.baseUrl=r:k.baseUrl=[this.url.slice(0,this.url.lastIndexOf("/")+1),r].join("/")}for(var x=0;x<w.length;x++){var y,z=w[x],A=new f,B=n(z,"SegmentTemplate"),C=n(B,"SegmentTimeline"),D=new i,E=m(z,"Representation");D.timeline=new j,z.getAttribute("codecs")&&(A.codecs=z.getAttribute("codecs")),null!==C&&(y=m(C,"S"),D.timeline.parse(y)),A.mimeType=z.getAttribute("mimeType"),A.baseUrl=k.baseUrl;var F=m(z,"ContentProtection");A.parseContentProtections(F),D.timescale=parseInt(B.getAttribute("timescale")),D.segmentDuration=parseInt(B.getAttribute("duration")),D.startNumber=parseInt(B.getAttribute("startNumber")),D.presentationTimeOffset=parseInt(B.getAttribute("presentationTimeOffset")),D.initialization=B.getAttribute("initialization"),D.media=B.getAttribute("media"),A.segmentTemplate=D,A.duration=k.duration,A.createTimeline();for(var G=0;G<E.length;G++){var H=new h,I=E[G];H.codecs=I.getAttribute("codecs"),"mp4a.40.1"===H.codecs&&(H.codecs="mp4a.40.2"),H.id=I.getAttribute("id"),H.bandwidth=parseInt(I.getAttribute("bandwidth")),H.width=parseInt(I.getAttribute("width")),H.height=parseInt(I.getAttribute("height")),A.representations.push(H)}"undefined"!=typeof H&&H.codecs&&(A.codecs=H.codecs),A.representations.sort(function(a,b){return b.bandwidth-a.bandwidth}),v.adaptationSets.push(A)}k.periods.push(v)}return null===k.duration&&c(k),k}},d.prototype={getPeriod:function(a){var b="undefined"!=typeof a?a:0;return this.periods[b]},getRepresentationsByType:function(a,b){var c=this.getAdaptationSetByType(a,b);return null===c?[]:c.representations},getAdaptationSetByType:function(a,b){for(var c,d,e=this.getPeriod(b),f=e.adaptationSets,g=0;g<f.length;g++)if(c=f[g].mimeType,d=c.split("/")[0].toLowerCase(),d===a)return f[g];return null},getAverageBandwidthRepresentation:function(a,b){for(var c,d=this.getRepresentationsByType(a,b),e=[],f=0;f<d.length;f++)e.push(d[f].bandwidth);return c=e.length>1?e[Math.ceil(e.length/2)]:e[0],this.getRepresentationByBandwidth(c,a,b)},getRepresentationByBandwidth:function(a,b,c){var d,e="undefined"==typeof b?"video":b,f=this.getAdaptationSetByType(e,c);if(null===f)return null;d=f.representations;for(var g=0;g<d.length;g++)if(d[g].bandwidth===parseInt(a))return d[g];return null}},e.prototype.createTimeline=function(){};var o={"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4":"com.widevine.alpha"};f.prototype={parseContentProtections:function(a){for(var b,c=0;c<a.length;c++)b=new g,b.schemeIdUri=a[c].getAttribute("schemeIdUri"),b.drmSystem=o[b.schemeIdUri],b.drmSystem&&(b.value=a[c].getAttribute("value"),b.cencPssh=n(a[c],"cenc:pssh"),b.msproPro=n(a[c],"mspr:pro"),this.contentProtections.push(b))}},f.prototype.createTimeline=function(){var a,b,c=this.segmentTemplate&&this.segmentTemplate.timeline?this.segmentTemplate.timeline.timePoints:null,d=0,e=0,f=-1,g=this.segmentTemplate&&!isNaN(this.segmentTemplate.segmentDuration)?this.segmentTemplate.segmentDuration:null,h=0,i=0;if(null!==g){this.segmentList=[],this.segmentTemplate.startNumber&&(i=this.segmentTemplate.startNumber);var j=this.duration;for(this.segmentTemplate.presentationTimeOffset&&(d=this.segmentTemplate.presentationTimeOffset,j=+d);d/this.segmentTemplate.timescale<j;)a=new k,a.startTime=d,a.duration=g,a.index=i,d+=g,this.segmentList.push(a),i++}else if(null!==c){this.segmentList=[];for(var l=0,m=c.length;m>l;l++){b=c[l].repeat||0,b++;for(var n=0;b>n;n++)d=NaN,c[l].startTime&&0===n&&0===l?(d=c[l].startTime,h=d,e=d):d=c[l].startTime&&0===n?c[l].startTime:0==l&&0==n?0:f,h+=c[l].duration,f=d+c[l].duration,a=new k,a.index=i,a.startTime=d,a.duration=c[l].duration,this.segmentList.push(a),i++}}this.segmentsDuration=h/this.segmentTemplate.timescale},j.prototype.parse=function(a){for(var b,c,d=0;d<a.length;d++)c=a[d],b=new l,b.index=d,b.duration=parseInt(c.getAttribute("d")),b.startTime=parseInt(c.getAttribute("t")),b.repeat=parseInt(c.getAttribute("r")),this.timePoints.push(b)};var p=function(a){if(!a)return null;var b=/^P(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/,c=b.exec(a);if(!c)return null;var d=0,e=parseInt(c[1]);e&&(d+=86400*e);var f=parseInt(c[2]);f&&(d+=3600*f);var g=parseInt(c[3]);g&&(d+=60*g);var h=parseFloat(c[4]);return h&&(d+=h),d};a.ManifestParser=b}(atdsplayer),function(a){"use strict";function b(b,d){var e=b,f=d,g=c.IDLE,h=f.startTime/f.timescale,i=e.addSourceBuffer(f.mimeType+";codecs="+f.codecs),j=new a.EventManager,k=function(a){var b=0,c=m(a);return null!==c?b=c.end-a:b},l=function(a){try{i.appendBuffer(a)}catch(b){"QuotaExceededError"===b.message&&(p(),o())}},m=function(a){var b,c,d=n();if(null===d)return null;h>a&&(a=h);for(var e=0;e<d.length;e++)if(b=d.start(e),c=d.end(e),a>=b&&c>a)return{start:b,end:c};return null},n=function(){try{return i.buffered}catch(a){return null}},o=function(a,b){a=a||0,b=b||e.duration||Number.MAX_VALUE;try{i.remove(a,b)}catch(c){console.log("Failed to clear buffer:",c)}},p=function(){i.abort()},q=function(){i.addEventListener("updateend",function(){g=c.IDLE,j.fireEvent("updateend")}),i.addEventListener("updatestart",function(){g=c.APPENDING,j.fireEvent("updatestart")}),i.addEventListener("error",function(){console.log("error"),j.fireEvent("error")}),i.addEventListener("abort",function(){g=c.ABORTING,j.fireEvent("abort")}),i.addEventListener("update",function(){j.fireEvent("update")})};return q(),{on:j.on,abort:p,getBufferLength:k,appendBuffer:l,getAllBufferRanges:n,getBufferRange:m,clear:o,get:function(){return i},isUpdating:function(){return i.updating},getState:function(){return g},setState:function(a){g=a}}}var c={IDLE:"idle",APPENDING:"appending",CLEARING:"clearing",ABORTING:"aborting"};a.SourceBuffer=b,a.SourceBufferState=c}(atdsplayer),function(a){function b(b,e,j,k){var l=-1,m=b,n=a.SourceBufferState,o=e,p=j,q=i.VIDEO,r=o.segmentList,s=[],t=null,u=([o.baseUrl,o.segmentTemplate.media].join(""),[o.baseUrl,o.segmentTemplate.initialization].join("")),v=c(p,o),w={},x=[],y=0,z=!1,A=!1,B=!1,C=null,D="",E=null,F=null,G=!1,H=0,I=new a.EventManager,J=new a.Timer,K=function(){J.update=function(){M()},J.interval=h,J.start()},L=function(){if(B=!1,J.stop(),"open"===p.readyState)try{p.endOfStream()}catch(a){}if(null!==C&&(C.abort(),C=null),null!==p&&null!==v){try{v.abort(),p.removeSourceBuffer(v.get())}catch(a){}v=null}},M=function(){if(H>25)return L(),void I.fireEvent("mediaError");var a=m.currentTime;if(null!==v){if(!A)return void R();if(!k&&!G){var b=(r[r.length-1].startTime+r[r.length-1].duration)/o.segmentTemplate.timescale;v.getBufferRange(a)&&v.getBufferRange(a).end>=b-.1&&(G=!0,I.fireEvent("bufferCompleted"))}if(y=v.getBufferLength(a),y>0&&(y+=.01),f>y&&!z&&v.getState()===n.IDLE){var c,d=Math.round((a+y)*o.segmentTemplate.timescale);if(d>0&&(d+=g/o.segmentTemplate.timescale),c=P(d),null!==F&&null!==c&&c.startTime===F.startTime&&0===parseInt(y))return H++,m.currentTime+=.25,void M();H=0,null===c||"seeking"===D&&!k||N({index:c.index,id:t.id,startTime:c.startTime,bandwidth:t.bandwidth,segment:c}).done(function(a,b){z=!1,M()})}if(s.length&&v.getState()===n.IDLE){var e=s[0];if(B&&l>=0&&a>l&&q===i.VIDEO)return B=!1,G=!1,v.clear(0,l?l:0),void(l=-1);q===i.VIDEO&&B&&e.index>=0&&-1==l&&(l=e.startTime/o.segmentTemplate.timescale),v.isUpdating()||(v.appendBuffer(e.data),F=e,s.shift())}}},N=function(b){b.segment.downloadAttempts+=1;var c=new a.Promise;if(z||Y(b.index))return c.reject(),c;z=!0;var e,g,h,i=+new Date,j=0,l=+new Date,n=[o.baseUrl,o.segmentTemplate.media].join("");return n=n.replace("$Number$",b.index.toString()),n=n.replace("$Time$",b.startTime),n=n.replace("$RepresentationID$",b.id),n=n.replace("$Bandwidth$",b.bandwidth),-1!==x.indexOf(b.startTime)?(z=!1,c.reject(),c):(E=b,C=d(n).done(function(a){x.push(b.startTime),x.length>5&&x.shift(),e=+new Date,g=a.length/((e-i)/1e3)*8,h={bps:parseInt(g),duration:e-i,timestamp:e,status:"COMPLETE",total:a.length,bufferLength:y,maxBufferLength:f},I.fireEvent("segmentDownloaded",h),b.data=a,s.push(b),z=!1,c.resolve(a,b),b.segment.downloadAttempts=0}).fail(function(a){if("ATTEMPTS_EXCEEDED"===a){if(k)I.fireEvent("attemptsExceeded");else{var d=P(m.currentTime*o.segmentTemplate.timescale);m.currentTime=(d.startTime+d.duration)/o.segmentTemplate.timescale,m.pause(),m.play()}b.segment.downloadAttempts>12&&I.fireEvent("attemptsExceeded")}z=!1,c.reject()}).progress(function(a){e=+new Date,g=parseInt(a.loaded/((e-i)/1e3)*8),h={bps:g,loaded:a.loaded,total:a.total,duration:e-i,timestamp:e,status:"PROGRESS",bufferLength:y,maxBufferLength:f},l=+new Date,j=a.loaded,I.fireEvent("segmentProgress",h)}),c)},O=function(){var b=new a.Promise;if(z)return b.reject(),b;if(u=[o.baseUrl,o.segmentTemplate.initialization].join(""),z=!0,w[t.bandwidth])return s.push(w[t.bandwidth]),b.resolve(w[t.bandwidth].data,w[t.bandwidth]);var c=u;return c=c.replace("$RepresentationID$",t.id),c=c.replace("$Bandwidth$",t.bandwidth),C=d(c).done(function(a){var c={id:t.id,bandwidth:t.bandwidth,data:a,index:-1};c.data=a,c.index=-1,s.push(c),z=!1,w[t.bandwidth]=c,b.resolve(a,c)}).fail(function(a){"ATTEMPTS_EXCEEDED"===a&&I.fireEvent("attemptsExceeded"),z=!1,b.reject()}),b},P=function(a){r=o.segmentList,0===a&&(a+=r[0].startTime);for(var b=0,c=r.length;c>b;b++)if(a>=r[b].startTime&&a<r[b].startTime+r[b].duration)return r[b?b:0];return null},Q=function(a){return a>=r.length-1?r[r.length-1]:r[a]},R=function(){A=!0,O().done(function(){z=!1,M()})},S=function(a,b){A=!1,t=a,V(),B=!1,b&&(l=-1,B=!0,s=[],null!==v&&(x=[],T(U().startTime/o.segmentTemplate.timescale))),R(),M()},T=function(a,b){a>b||("open"===p.readyState&&v.abort(),v.clear(a,b))},U=function(){for(var a,b=m.currentTime,c=Math.round(b*o.segmentTemplate.timescale),d=P(c),e=0,f=0;1>e&&4>f;)a=Q(d.index+1),e=a.startTime/o.segmentTemplate.timescale-b,d=a,f++;return a},V=function(){null!==C&&C.abort()},W=function(a){t=a},X=function(a){D=a,"seeked"===D&&(x=[],l=0),M()},Y=function(a){for(var b=0;b<s.length;b++)if(parseInt(s[b].index)===parseInt(a))return s[b];return null},Z=function(){v.on("updateend",function(){M()}),v.on("updatestart",function(){}),v.on("abort",function(){})};return-1!==o.mimeType.indexOf("audio")&&(q=i.AUDIO),Z(),{setRepresentation:W,setPlaybackStatus:X,abort:V,update:M,findSegmentByPosition:P,findSegmentByIndex:Q,switchRepresentation:S,start:K,stop:L,on:I.on,clearBuffer:T,isBufferCompleted:function(){return G},getBufferLength:function(){return y},sourceOpen:function(){G=!1}}}function c(b,c){return new a.SourceBuffer(b,{timescale:c.segmentTemplate.timescale,startTime:c.segmentList[0].startTime,codecs:c.codecs,mimeType:c.mimeType,presentationTimeOffset:c.segmentTemplate.presentationTimeOffset})}function d(b){function c(){d=new XMLHttpRequest,d.open("GET",b),d.responseType="arraybuffer",d.timeout=1e4,d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){var a=new Uint8Array(d.response);f.resolve(a)}else h||g>=e?g>=e?f.reject("ATTEMPTS_EXCEEDED"):f.reject():c()},d.onprogress=function(a){f.notify(a)},d.onloadstart=function(a){},d.onerror=function(){},d.send(),g++}var d,f=new a.Promise,g=0,h=!1;return f.abort=function(){h=!0,d.abort(),f.reject()},c(),f}var e=3,f=20,g=10,h=500,i={VIDEO:"video",AUDIO:"audio"};a.StreamManager=b}(atdsplayer),function(a){function b(b){var d=this;this.options=b,this.url=null,this.eventBus=new a.EventManager,this.on=this.eventBus.on,this._volume=90,this.isStarted=!1,this.isPlaying=!1,this.isBuffering=!0,this.deviceSampleRate=null,this.metric=g,this.reconnectTimeout=0,this.stream=new e(this.metric),this.audioContext=null,this.audioNode=null,this.source=new c,this.source.on("data",function(a){d.stream.append(a),d.isBuffering=d.stream.getBuffered()<1,d.isStarted&&d.source.fetch()}),this.source.on("waiting",function(){d.eventBus.fireEvent("waiting"),d.reconnectTimeout=setTimeout(function(){d.play(d.url)},5e3)}),this.source.on("metric",function(a){d.metric=a||g,d.metric.deviceSampleRate=d.getDeviceSampleRate(),d.stream.metric=d.metric,d.eventBus.fireEvent("metadata",d.metric),d.initialize()}),"undefined"!=typeof url&&this.source.fetch()}function c(b,c){this.source=b,this.url=this.source,this.eventBus=new a.EventManager,this.on=this.eventBus.on,this.now=0,this.offset=0,this.chunkSize=1<<18,this.endPosition=this.chunkSize,this.request=null,this.headRequest=null,this.headRequestTimeout=null,this.errorCounter=0,this.fragmentDuration=2e3,this.initialFragmentDuration=5e3,this.nextFragment=0,this.hasMetadata=!1}function d(a){this.data=a,this.offset=0}function e(a){this.metric=a,this.bufferList=[],this.currentBuffer=null,this.resampler=null}function f(a){return new b(a)}var g={bitsPerSample:16,bytesPerSample:2,channelCount:2,sampleRate:48e3,startTime:0},h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;b.prototype={reconnect:function(){this.isPlaying=!1,this.destroy(),this.play(this.url)},getDeviceSampleRate:function(){if(null===this.deviceSampleRate){var a=new h,b=a.sampleRate;return a.close().then(function(){a=null}),b}return this.deviceSampleRate},destroy:function(){var a=this;this.source.stop(),null!==this.audioNode&&(this.audioNode.disconnect(this.audioContext.destination),this.audioNode.onaudioprocess=null,this.audioNode=null),null!==this.audioContext&&this.audioContext.close().then(function(){a.audioContext=null})},play:function(a){var b=this;return clearTimeout(this.reconnectTimeout),"undefined"==typeof h?void b.eventBus.fireEvent("webAudioApiNotSupported"):(this.setVolume(this._volume),this.url=a,"undefined"!=typeof a&&this.source.setSource(a),this.isStarted=!0,this.eventBus.fireEvent("waiting"),this.eventBus.fireEvent("onLive"),this.source.start(!0),void this.stream.cleanup())},setVolume:function(a){this.eventBus.fireEvent("volume",a),this._volume=a},getVolume:function(a){return this._volume},stop:function(){clearTimeout(this.reconnectTimeout),this.destroy(),this.isPlaying=!1,this.isStarted=!0,this.eventBus.fireEvent("stopped")},initialize:function(){var b=this;this.audioContext=new h,this.audioNode=this.audioContext.createScriptProcessor(4096,this.metric.channelCount,this.metric.channelCount),this.audioNode.connect(this.audioContext.destination),this.audioContext.sampleRate!==this.metric.sampleRate?b.stream.resampler=new a.Resampler(b.metric.sampleRate,this.audioContext.sampleRate,this.metric.channelCount,4096*this.metric.channelCount):b.stream.resampler=null;var c,d,e=new Array(this.metric.channelCount),f=this.audioContext.sampleRate,g=Math.ceil(4096/(f/this.metric.sampleRate)*this.metric.channelCount);g+=g%this.metric.channelCount;var i,j;this.audioNode.onaudioprocess=function(f){if(j=b.stream.getBuffered(),0===j)return void b.reconnect();if(b.eventBus.fireEvent("buffered",j),i=new Float32Array(g),b.isBuffering)return i;if(b.isPlaying||(b.isPlaying=!0,b.eventBus.fireEvent("playing")),i=b.stream.refill(i),a.VolumeFilter.process(i,b._volume),i){i.length||b.stop();var h,k;for(c=f.outputBuffer,c||(console.log("STOP"),b.stop()),h=0;h<b.metric.channelCount;h++)e[h]=c.getChannelData(h);for(d=c.length,h=0;d>h;h++)for(k=0;k<b.metric.channelCount;k++)e[k][h]=i[h*b.metric.channelCount+k]}}}},c.prototype={start:function(){var a=this;this.errorCounter=0,this.headRequest=new XMLHttpRequest,this.headRequest.open("HEAD",this.source,!0),this.headRequest.onload=function(){a.url=a.headRequest.responseURL,a.fetch(!0)},clearTimeout(a.headRequestTimeout),this.headRequest.onerror=function(){a.headRequestTimeout=setTimeout(function(){a.start()},2e3)},this.headRequest.send(null)},stop:function(){this.request&&this.request.abort(),this.headRequest&&this.headRequest.abort(),clearTimeout(this.headRequestTimeout),this.hasMetadata=!1},setSource:function(a){this.source=a.split("#")[0]},fetch:function(a){var b,c,d=this,e=this.url;clearTimeout(d.headRequestTimeout),this.request=new XMLHttpRequest,"undefined"!=typeof a&&(this.nextFragment=0),e+=-1!==e.indexOf("?")?"&":"?",e+="duration="+(this.nextFragment?this.fragmentDuration:this.initialFragmentDuration),this.nextFragment&&(e+="&startTime="+this.nextFragment),this.request.open("GET",e,!0),this.request.responseType="arraybuffer",this.request.onerror=function(){return d.errorCounter++,d.errorCounter>3?void d.start():(clearTimeout(this.headRequestTimeout),void(d.headRequestTimeout=setTimeout(function(){d.fetch()},1e3)))},this.request.onload=function(){b=d.request.getResponseHeader("Content-Type"),d.now=d.request.getResponseHeader("redCDN-Now");var a=d.request.getResponseHeader("redCDN-Start-Time");if(null===d.now)return void d.eventBus.fireEvent("waiting",c);if(null!==d.now&&null===a)return void d.eventBus.fireEvent("waiting",c);if(!d.hasMetadata&&b){var e=b.match(/\d+/g);e&&3==e.length&&(c={bitsPerSample:parseInt(e[0]),bytesPerSample:e[0]>>3,sampleRate:parseFloat(e[1]),channelCount:parseInt(e[2]),startTime:parseFloat(a?a:0)}),d.hasMetadata=!0,d.eventBus.fireEvent("metric",c)}if(d.nextFragment=d.request.getResponseHeader("redCDN-Next-Fragment"),d.request.status<=206){d.errorCounter=0;var f=new Uint8Array(d.request.response);d.offset=d.endPosition,d.endPosition+=d.chunkSize,d.eventBus.fireEvent("data",f)}},this.request.send(null)}},e.prototype={cleanup:function(){this.bufferList=[],this.currentBuffer=null},append:function(a){this.bufferList.push(new d(a)),null===this.currentBuffer&&(this.currentBuffer=this.bufferList[0])},shift:function(){this.bufferList.shift(),this.bufferList.length&&(this.currentBuffer=this.bufferList[0])},refill:function(a){if(null===this.currentBuffer)return a;var b,c,d,e=this.currentBuffer.data,f=0,g=a.length*this.metric.bytesPerSample,h=Math.pow(2,31);if(!e.length||!this.bufferList.length)return a;for(b=0;g>b;b+=this.metric.bytesPerSample)if(this.currentBuffer.offset!==this.currentBuffer.data.length){for(c=0,d=0;d<this.metric.bytesPerSample;d++)c+=e[this.currentBuffer.offset]<<8*(d+4-this.metric.bytesPerSample),this.currentBuffer.offset++;c/=h,a[f]=c,f++}else this.shift(),e=this.currentBuffer.data,this.currentBuffer.offset=0,b--;return this.resampler&&(a=this.resampler.resampler(a)),a},getBuffered:function(){for(var a=0,b=0;b<this.bufferList.length;b++)a+=(this.bufferList[b].data.length-this.bufferList[b].offset)/this.metric.bytesPerSample/this.metric.sampleRate/this.metric.channelCount;return a}},a.load=f,a.AudioPlayer=b}(atdsplayer),function(a){function b(a,b,c,d,e){this.fromSampleRate=a,this.toSampleRate=b,this.channels=0|c,this.outputBufferSize=d,this.noReturn=!!e,this.initialize()}b.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1):(this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0),this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.initializeBuffers())},b.prototype.compileLinearInterpolationFunction=function(){for(var a="var bufferLength = buffer.length;	var outLength = this.outputBufferSize;	if ((bufferLength % "+this.channels+") == 0) {		if (bufferLength > 0) {			var ratioWeight = this.ratioWeight;			var weight = this.lastWeight;			var firstWeight = 0;			var secondWeight = 0;			var sourceOffset = 0;			var outputOffset = 0;			var outputBuffer = this.outputBuffer;			for (; weight < 1; weight += ratioWeight) {				secondWeight = weight % 1;				firstWeight = 1 - secondWeight;",b=0;b<this.channels;++b)a+="outputBuffer[outputOffset++] = (this.lastOutput["+b+"] * firstWeight) + (buffer["+b+"] * secondWeight);";a+="}			weight -= 1;			for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; outputOffset < outLength && sourceOffset < bufferLength;) {				secondWeight = weight % 1;				firstWeight = 1 - secondWeight;";for(var b=0;b<this.channels;++b)a+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(b>0?" + "+b:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+b)+"] * secondWeight);";a+="weight += ratioWeight;				sourceOffset = Math.floor(weight) * "+this.channels+";			}";for(var b=0;b<this.channels;++b)a+="this.lastOutput["+b+"] = buffer[sourceOffset++];";a+='this.lastWeight = weight % 1;			return this.bufferSlice(outputOffset);		}		else {			return (this.noReturn) ? 0 : [];		}	}	else {		throw(new Error("Buffer was of incorrect sample length."));	}',this.resampler=Function("buffer",a)},b.prototype.compileMultiTapFunction=function(){for(var a="var bufferLength = buffer.length;	var outLength = this.outputBufferSize;	if ((bufferLength % "+this.channels+") == 0) {		if (bufferLength > 0) {			var ratioWeight = this.ratioWeight;			var weight = 0;",b=0;b<this.channels;++b)a+="var output"+b+" = 0;";for(a+="var actualPosition = 0;			var amountToNext = 0;			var alreadyProcessedTail = !this.tailExists;			this.tailExists = false;			var outputBuffer = this.outputBuffer;			var outputOffset = 0;			var currentPosition = 0;			do {				if (alreadyProcessedTail) {					weight = ratioWeight;",b=0;b<this.channels;++b)a+="output"+b+" = 0;";for(a+="}				else {					weight = this.lastWeight;",b=0;b<this.channels;++b)a+="output"+b+" = this.lastOutput["+b+"];";for(a+="alreadyProcessedTail = true;				}				while (weight > 0 && actualPosition < bufferLength) {					amountToNext = 1 + actualPosition - currentPosition;					if (weight >= amountToNext) {",b=0;b<this.channels;++b)a+="output"+b+" += buffer[actualPosition++] * amountToNext;";for(a+="currentPosition = actualPosition;						weight -= amountToNext;					}					else {",b=0;b<this.channels;++b)a+="output"+b+" += buffer[actualPosition"+(b>0?" + "+b:"")+"] * weight;";for(a+="currentPosition += weight;						weight = 0;						break;					}				}				if (weight == 0) {",b=0;b<this.channels;++b)a+="outputBuffer[outputOffset++] = output"+b+" / ratioWeight;";for(a+="}				else {					this.lastWeight = weight;",b=0;b<this.channels;++b)a+="this.lastOutput["+b+"] = output"+b+";";a+='this.tailExists = true;					break;				}			} while (actualPosition < bufferLength && outputOffset < outLength);			return this.bufferSlice(outputOffset);		}		else {			return (this.noReturn) ? 0 : [];		}	}	else {		throw(new Error("Buffer was of incorrect sample length."));	}',this.resampler=Function("buffer",a)},b.prototype.bypassResampler=function(a){return this.noReturn?(this.outputBuffer=a,a.length):a},b.prototype.bufferSlice=function(a){if(this.noReturn)return a;try{return this.outputBuffer.subarray(0,a)}catch(b){try{return this.outputBuffer.length=a,this.outputBuffer}catch(b){return this.outputBuffer.slice(0,a)}}},b.prototype.initializeBuffers=function(){try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch(a){this.outputBuffer=[],this.lastOutput=[]}},a.Resampler=b}(atdsplayer),function(a){a.VolumeFilter={process:function(a,b){b=Math.max(0,Math.min(100,b))/100;for(var c=0;c<a.length;c++)a[c]*=b}}}(atdsplayer),function(a){function b(b){if(this.localApi=b,this.overlayConfig=this.localApi.getOptions().overlay,"undefined"!=typeof this.overlayConfig){this.dom=a.util.dom,this.cssPrefix=b.getOptions().cssPrefix,this.overlays=[],this.gui=null,this.localApi.subscribe(this)}}function c(b,c){var d=this;if(this.config=b,b.image){if(this.localApi=c,this.dom=a.util.dom,this.cssPrefix=this.localApi.getOptions().cssPrefix,this.overlayElm=this.dom.createElm("div",this.cssPrefix+"-overlay"),this.imageHolder=this.overlayElm,this.position=b.position,this.initialWidth=0,this.initialHeight=0,this.verticalPosition=null,this.horizontalPosition=null,this.config.name&&this.dom.addClass(this.overlayElm,this.cssPrefix+"-overlay-"+this.config.name),this.config.link){var e=this.dom.createElm("a");e.setAttribute("href",this.config.link),e.setAttribute("target","_blank"),this.overlayElm.appendChild(e),this.imageHolder=e}this.image=new Image,this.image.onload=function(){d.initialWidth=d.image.width,d.initialHeight=d.image.height,d.updateDims()},this.image.src=b.image,this.imageHolder.appendChild(this.image),"undefined"!=typeof this.position?(this.position=this.position.replace(/[\s,]+/," "),-1!==this.position.indexOf(" ")?(this.verticalPosition=this.position.split(" ")[0].trim(),this.horizontalPosition=this.position.split(" ")[1].trim(),isNaN(parseInt(this.verticalPosition))&&isNaN(parseInt(this.horizontalPosition))&&this.dom.addClass(this.overlayElm,this.cssPrefix+"-overlay-"+this.verticalPosition+"-"+this.horizontalPosition),isNaN(parseInt(this.verticalPosition))||isNaN(parseInt(this.horizontalPosition))||(this.overlayElm.style.top=this.verticalPosition,this.overlayElm.style.left=this.horizontalPosition)):this.dom.addClass(this.overlayElm,this.cssPrefix+"-overlay-top-right")):this.dom.addClass(this.overlayElm,this.cssPrefix+"-overlay-top-right")}}a.embededModules=a.embededModules||[];var d="overlay";b.id=d,b.prototype={notify:function(b,c){switch(b){case a.AdEvent.START:break;case a.AdEvent.COMPLETE:break;case a.PlayerEvent.NEW_MEDIA:break;case a.PlayerEvent.OPEN:break;case a.GuiEvent.GUI_READY:this.overlays=[],this.gui=c,this.createOverlays();break;case a.GuiEvent.CONTROLS_HIDE:break;case a.GuiEvent.CONTROLS_SHOW:break;case a.GuiEvent.FULLSCREEN_CHANGE:for(var d=0;d<this.overlays.length;d++){var e=this.overlays[d];e.updateDims()}break;case a.PlayerEvent.TIME:break;case"ended":}},createOverlays:function(){if(Array.isArray(this.overlayConfig))for(var a=0;a<this.overlayConfig.length;a++)this.createOverlay(this.overlayConfig[a],this.localApi);else this.createOverlay(this.overlayConfig,this.localApi)},createOverlay:function(a,b){if(a.image){var d=new c(a,b);this.overlays.push(d),this.gui.getContainer().appendChild(d.getElm())}},destroy:function(){this.localApi.unSubscribe(this)}},c.prototype.getElm=function(){return this.overlayElm},c.prototype.updateDims=function(){var a=1,b=this.initialWidth,c=this.initialHeight;(this.config.scale||"undefined"==typeof this.config.scale)&&(a=this.localApi.getGui().getContainer().offsetWidth/this.localApi.getGui().getInitialWidth()),this.config.width&&(b=parseInt(this.config.width)),this.config.height&&(c=parseInt(this.config.height)),this.config.width?(this.overlayElm.style.width=parseInt(b*a)+"px",this.image.style.width=parseInt(b*a)+"px"):this.overlayElm.style.width=b*a+"px",this.config.height?(this.overlayElm.style.height=parseInt(c*a)+"px",this.image.style.height=parseInt(c*a)+"px",this.overlayElm.style.width="auto"):this.overlayElm.style.height=c*a+"px"},a.embededModules.push(b)}(atdsplayer),function(a){function b(a){this.localApi=a,"undefined"!=typeof window.gfk&&"undefined"!=typeof window.gfk.ssa&&(this.isInitialized=!1,this.localApi.getOptions().gfkSsaConf&&(this.config=this.localApi.getOptions().gfkSsaConf,this.agent=window.gfk.ssa.getAgent(this.config.mediaId),this.agent&&(this.isPlayingAd=!1,this.localApi.subscribe(this))))}a.embededModules=a.embededModules||[];var c="sensic";b.id=c,b.prototype={notify:function(b,c){switch(b){case a.AdEvent.START:this.isPlayingAd=!0;break;case a.AdEvent.COMPLETE:this.isPlayingAd=!1;break;case"newMedia":this.initializeEvent();break;case"playing":this.notifyPlayEvent();break;case"paused":this.notifyIdleEvent();break;case"stopped":this.notifyIdleEvent();break;case"seeking":this.notifyIdleEvent();break;case"open":break;case"ended":this.notifyIdleEvent()}},destroy:function(){this.localApi.unSubscribe(this)},initializeEvent:function(){this.isInitialized||this.isPlayingAd||(this.agent.notifyLoaded(this.config.contentId,this.config.cp||{}),this.isInitialized=!0)},notifyPlayEvent:function(){this.isPlayingAd||this.agent.notifyPlay()},notifyIdleEvent:function(){this.isPlayingAd||this.agent.notifyIdle()}},a.embededModules.push(b)}(atdsplayer),function(a){function b(b){var c=this;this.localApi=b,this.dom=a.util.dom,this.isActive=!1,this.isPlayingAd=!1,this.subtitles=null,this.currentSubtitle=null,this.initialWidth=0,this.initialFontSize=22,this.cssPrefix=b.getOptions().cssPrefix,this.url=b.getOptions().subtitle,"undefined"!=typeof this.url&&(this.subtitleContainer=null,this.load(this.url).done(function(a){c.subtitles=c.parse(a),c.update()}),this.localApi.subscribe(this))}a.embededModules=a.embededModules||[];var c="subtitle";b.id=c,
b.prototype={notify:function(b,c){switch(b){case a.AdEvent.START:this.isPlayingAd=!0,this.hide();break;case a.AdEvent.COMPLETE:this.isPlayingAd=!1;break;case"playlist_loaded":this.playlist=c;break;case"newMedia":break;case"open":break;case a.GuiEvent.GUI_READY:this.gui=c,this.subtitleBtn=this.gui.getControls().getSubtitleBtn(),this.subtitleBtn.style.display="block",this.subtitleBtn.addEventListener("click",this.onSubtitleClick.bind(this)),this.initialWidth=this.gui.getContainer().offsetWidth,this.createSubtitleContainer();break;case a.GuiEvent.CONTROLS_HIDE:this.update();break;case a.GuiEvent.CONTROLS_SHOW:this.update();break;case a.GuiEvent.FULLSCREEN_CHANGE:this.update();break;case a.PlayerEvent.TIME:if(this.subtitles&&this.isActive&&!this.isPlayingAd){var d=this.getSubtitle(parseFloat(c));null!==d?this.currentSubtitle!==d&&(this.showSubtitle(d),this.currentSubtitle=d,this.show()):this.hide()}break;case"ended":this.hide()}},destroy:function(){this.localApi.unSubscribe(this)},onSubtitleClick:function(){this.dom.removeClass(this.subtitleBtn,"active"),this.isActive?(this.isActive=!1,this.hide()):(this.dom.addClass(this.subtitleBtn,"active"),this.show(),this.isActive=!0)},load:function(b){var c=new a.Promise,d=new XMLHttpRequest;return d.open("GET",b,!0),d.timeout=5e3,d.onreadystatechange=function(){4===d.readyState&&(200===d.status?c.resolve(d.responseText):c.reject())},d.send(null),c},parse:function(a){var b,c,d,e,f=/\s*(\d*:?[0-5]\d:[0-5]\d\.\d\d\d)\s*-->\s*(\d*:?[0-5]\d:[0-5]\d\.\d\d\d)\s*(.*)/,g=[],h=null;for("\ufeff"===a[0]&&(a=a.slice(1,a.length-1)),b=a.split(/\r\n|\r|\n/),e=0;e<b.length;e++)c=b[e],(d=f.exec(c))?(h={start:parseFloat(this.parseTimestamp(d[1])),stop:parseFloat(this.parseTimestamp(d[2])),lines:[]},g.push(h)):""===c.trim()?h=null:h&&h.lines.push(c);return g},parseTimestamp:function(a){var b=a.split(/[:.]/);return 3600*parseInt(b[0])+60*parseInt(b[1])+parseInt(b[2])+parseInt(b[3])/1e3},createSubtitleContainer:function(){var a=this.gui.getContainer();this.subtitleContainer=this.dom.createElm("div",this.cssPrefix+"-subtitles"),this.subtitleContainer.style.display="none",this.subtitleContainer.style.fontSize=this.initialFontSize+"px",a.appendChild(this.subtitleContainer)},getSubtitle:function(a){var b=this.subtitles.filter(function(b){return b.start<=a&&b.stop>=a});return b.length?b[0]:null},showSubtitle:function(a){for(var b="",c=0;c<a.lines.length;c++)b+="<p>"+a.lines[c]+"</p>";this.subtitleContainer.innerHTML=b},update:function(){var a=this.gui.getContainer(),b=a.offsetWidth/this.initialWidth;this.subtitleContainer.style.fontSize=this.initialFontSize*b+"px";var c=this.gui.getControls().getElm();this.dom.hasClass(c,"hidden")?this.subtitleContainer.style.bottom="0px":this.subtitleContainer.style.bottom=this.dom.getIntegerStyle(c,"height")+this.dom.getIntegerStyle(c,"bottom")+"px",this.isActive&&this.show()},show:function(){this.subtitleContainer.style.display=""},hide:function(){this.subtitleContainer.style.display="none"}},a.embededModules.push(b)}(atdsplayer);hM      Y}Y~>/6Y   S    :http://n-15-2.dcs.redcdn.pl/file/o2/web/player/redcdn/0.6.4/js/redcdnplayer.min.js necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Date: Mon, 11 Sep 2017 13:41:17 GMT
Server: Apache
Last-Modified: Thu, 13 Apr 2017 08:59:21 GMT
Cache-Control: max-age=60
Content-Disposition: inline; filename="redcdnplayer.min.js"
Accept-Ranges: bytes
Content-Length: 131066
Content-Type: text/javascript
 original-response-headers Date: Mon, 11 Sep 2017 13:41:17 GMT
Server: Apache
Last-Modified: Thu, 13 Apr 2017 08:59:21 GMT
Cache-Control: max-age=60
Content-Disposition: inline; filename="redcdnplayer.min.js"
Accept-Ranges: bytes
Content-Length: 131066
Keep-Alive: timeout=15, max=98
Connection: Keep-Alive
Content-Type: text/javascript
 uncompressed-len 0 net-response-time-onstart 82 net-response-time-onstop 1508  